<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0069)http://www.railstutorial.org/chapters/static-pages#fig:autotest_green -->
<HTML lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><STYLE>.chrome-seo_meta-nofollow,.chrome-seo_meta-nofollow *{outline:2px dashed #ffb400!important;outline-offset:1px;}.chrome-seo_nofollow,.chrome-seo_nofollow *{outline:2px dotted #e90000!important;outline-offset:1px;}</STYLE><HEAD><META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <TITLE>Ruby on Rails Tutorial: Learn Rails by Example | Static Pages</TITLE>
    
<META name="robots" content="all">
<META name="MSSmartTagsPreventParsing" content="true">
<META name="description" content="Ruby on Rails Tutorial: Learn Rails by Example by Michael Hartl">
<META name="keywords" content="Learn Ruby Rails Tutorial website development">
<META name="author" content="Michael Hartl">

    <SCRIPT src="./application.html.erb_files/application.js" type="text/javascript"></SCRIPT>
    <LINK href="./application.html.erb_files/polytexnic.css" media="screen" rel="stylesheet" type="text/css">
    <LINK href="./application.html.erb_files/pygments.css" media="screen" rel="stylesheet" type="text/css">

      <LINK href="./application.html.erb_files/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
      
    <LINK href="./application.html.erb_files/print.css" media="print" rel="stylesheet" type="text/css">
    <!--[if lte IE 7]><link href="/stylesheets/ie.css?1277665395" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <!--[if lt IE 7]>  <div style='border: 1px solid #F7941D; background: #FEEFDA; text-align: center; clear: both; height: 75px; position: relative;'>    <div style='position: absolute; right: 3px; top: 3px; font-family: courier new; font-weight: bold;'><a href='#' onclick='javascript:this.parentNode.parentNode.style.display="none"; return false;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-cornerx.jpg' style='border: none;' alt='Close this notice'/></a></div>    <div style='width: 640px; margin: 0 auto; text-align: left; padding: 0; overflow: hidden; color: black;'>      <div style='width: 75px; float: left;'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-warning.jpg' alt='Warning!'/></div>      <div style='width: 275px; float: left; font-family: Arial, sans-serif;'>        <div style='font-size: 14px; font-weight: bold; margin-top: 12px;'>You are using an outdated browser</div>        <div style='font-size: 12px; margin-top: 6px; line-height: 12px;'>For a better experience using this site, please upgrade to a modern web browser.</div>      </div>      <div style='width: 75px; float: left;'><a href='http://www.firefox.com' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-firefox.jpg' style='border: none;' alt='Get Firefox 3.5'/></a></div>      <div style='width: 75px; float: left;'><a href='http://www.browserforthebetter.com/download.html' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-ie8.jpg' style='border: none;' alt='Get Internet Explorer 8'/></a></div>      <div style='width: 73px; float: left;'><a href='http://www.apple.com/safari/download/' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-safari.jpg' style='border: none;' alt='Get Safari 4'/></a></div>      <div style='float: left;'><a href='http://www.google.com/chrome' target='_blank'><img src='http://www.ie6nomore.com/files/theme/ie6nomore-chrome.jpg' style='border: none;' alt='Get Google Chrome'/></a></div>    </div>  </div>  <![endif]-->
    <LINK href="http://feeds.feedburner.com/railstutorial" rel="alternate" title="Rails Tutorial News" type="application/rss+xml">

    
    
    

  <SCRIPT type="text/javascript" charset="utf-8">
    var is_ssl = ("https:" == document.location.protocol);
    var asset_host = is_ssl ? "https://s3.amazonaws.com/getsatisfaction.com/" : "http://s3.amazonaws.com/getsatisfaction.com/";
    document.write(unescape("%3Cscript src='" + asset_host + "javascripts/feedback-v2.js' type='text/javascript'%3E%3C/script%3E"));
  </SCRIPT><SCRIPT src="./application.html.erb_files/feedback-v2.js" type="text/javascript"></SCRIPT>

  <SCRIPT type="text/javascript" charset="utf-8">
    var feedback_widget_options = {};

    feedback_widget_options.display = "overlay";  
    feedback_widget_options.company = "railstutorial";
    feedback_widget_options.placement = "right";
    feedback_widget_options.color = "#6B0509";
    feedback_widget_options.style = "question";
    var feedback_widget = new GSFN.feedback_widget(feedback_widget_options);
  </SCRIPT><STYLE type="text/css">#fdbk_overlay {
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: 1000000;
  position: absolute; }

#fdbk_screen {
  top: 0;
  left: 0;
  z-index: 1;
  width: 100%;
  position: absolute;
  background-color: #000;
  opacity: 0.45;
  -moz-opacity: 0.45;
  filter: alpha(opacity=45); }

#fdbk_container {
  width: 680px;
  height: 640px;
  margin: 0 auto;
  z-index: 2;
  position: relative; }
  #fdbk_container iframe {
    width: 658px;
    height: 100%;
    margin: 20px;
    background: transparent; }
  #fdbk_container iframe.loading {
    background: transparent url(http://s3.amazonaws.com/getsatisfaction.com/images/fb_loading.png) no-repeat; }

a#fdbk_tab {
  top: 25%;
  left: 0;
  width: 42px;
  height: 102px;
  color: #FFF;
  cursor: pointer;
  text-indent: -100000px;
  overflow: hidden;
  position: fixed;
  z-index: 100000;
  margin-left: -7px;
  background-image: url(http://s3.amazonaws.com/getsatisfaction.com/images/feedback_trans_tab.png);
  _position: absolute;
  _background-image: url(http://s3.amazonaws.com/getsatisfaction.com/images/feedback_tab_ie6.png); }
  a#fdbk_tab:hover {
    margin-left: -4px; }

a.fdbk_tab_right {
  right: 0 !important;
  left: auto !important;
  margin-right: 0 !important;
  margin-left: auto !important;
  width: 35px !important; }
  a.fdbk_tab_right:hover {
    width: 38px !important;
    margin-right: 0 !important;
    margin-left: auto !important; }

a.fdbk_tab_bottom {
  top: auto!important;
  bottom: 0 !important;
  left: 20% !important;
  height: 38px !important;
  width: 102px !important;
  background-position: 0 -102px !important;
  margin-bottom: -7px !important;
  margin-left: auto !important; }
  a.fdbk_tab_bottom:hover {
    margin-bottom: -4px !important;
    margin-left: auto !important; }

a.fdbk_tab_hidden {
  display: none !important; }

a#fdbk_close {
  position: absolute;
  cursor: pointer;
  outline: none;
  top: 0;
  left: 0;
  z-index: 4;
  width: 42px;
  height: 42px;
  overflow: hidden;
  background-image: url(http://s3.amazonaws.com/getsatisfaction.com/images/feedback-close.png);
  _background: none;
  _filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='http://s3.amazonaws.com/getsatisfaction.com/images/feedback-close.png', sizingMethod='crop'); }
  a#fdbk_close:hover {
    background-position: -42px 0; }

.feedback_tab_on embed, .feedback_tab_on select, .feedback_tab_on object {
  visibility: hidden; }
</STYLE><!--<BASE href="http://www.railstutorial.org/chapters/static-pages">--><BASE href="."></HEAD><BODY class="book"><A href="http://www.railstutorial.org/chapters/static-pages#" id="fdbk_tab" class="fdbk_tab_right" style="background-color:#6B0509">FEEDBACK</A><DIV id="fdbk_overlay" style="display:none"><DIV id="fdbk_container"><A href="http://www.railstutorial.org/chapters/static-pages#" id="fdbk_close"></A><IFRAME id="fdbk_iframe" allowtransparency="true" scrolling="no" frameborder="0" class="loading" src="./application.html.erb_files/transparent.gif" width="658px" height="100%" style="width: 658px; height: 100%;"></IFRAME></DIV><DIV id="fdbk_screen"></DIV></DIV>

    
    
  


    
  
 

  <DIV id="container">
    <DIV id="header" class="clearfix"><DIV id="title">
  <DIV id="logo"><A href="http://www.railstutorial.org/"><IMG alt="Logo" src="./application.html.erb_files/logo.png"></A></DIV>
  <H1 id="name">
    <A href="http://www.railstutorial.org/">Ruby on Rails Tutorial</A>
  </H1>
  <BR>
  <H2 id="authors">
    <A href="http://www.railstutorial.org/#author">by Michael Hartl</A>
  </H2>
</DIV>
</DIV>
    <DIV id="menu"><DIV class="links">
  <DIV class="box">
    <SPAN>
      <A href="http://www.railstutorial.org/">Home</A>
    </SPAN>
    <SPAN class="division">
      |
    </SPAN>
    <SPAN>
      <A href="http://www.railstutorial.org/book">Book</A>
    </SPAN>
    <SPAN class="division">
      |
    </SPAN>
    <SPAN>
      <A href="http://www.railstutorial.org/screencasts">Screencasts</A>
    </SPAN>
    <SPAN class="division">
      |
    </SPAN>
    <SPAN>
      <A href="http://www.railstutorial.org/feedback">Feedback</A>
    </SPAN>
    <SPAN class="division">
      |
    </SPAN>
    <SPAN>
      <A href="http://news.railstutorial.org/">News</A>
    </SPAN>
    <SPAN class="img">
      <A href="http://feeds.feedburner.com/railstutorial"><IMG alt="Feed-icon16x16" class="feed" src="./application.html.erb_files/feed-icon16x16.png"></A>
    </SPAN>
    <!-- %span.division -->
    <!-- 
    -->
    <!-- %span -->
    <!-- = link_to "By Email", email_url -->
    <!-- %span.img -->
    <!-- = link_to email_icon, email_url -->
    <SPAN class="division">
      |
    </SPAN>
    <SPAN>
      <A href="http://twitter.com/railstutorial">Follow</A>
    </SPAN>
    <SPAN>
      <A href="http://twitter.com/railstutorial"><IMG alt="Twitter-small" src="./application.html.erb_files/twitter-small.png"></A>
    </SPAN>
  </DIV>
</DIV>
</DIV>     
      <DIV id="content">         
        <DIV id="sidebar">
  <DIV class="content">
      <!-- = link_to image_tag("icons/feed-icon32x32.png"), feed_url -->
    <!-- = link_to image_tag("icons/twitter.png"), twitter_url -->
    <!-- = link_to image_tag("icons/mail-icons/mail-icon-32x32.png"), email_url -->
    <DIV id="navtool">
      <TABLE class="layout">
        <TBODY><TR>
          <TD colspan="2"><A href="http://www.railstutorial.org/chapters/static-pages#book_menu"><IMG alt="Up A Level" src="./application.html.erb_files/sb_button_up.png"></A></TD>
        </TR>
        <TR>
          <TD><A href="http://www.railstutorial.org/chapters/a-demo-app#top"><IMG alt="Previous Chapter" src="./application.html.erb_files/sb_button_prev.png"></A></TD>
          <TD><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#top"><IMG alt="Next Chapter" src="./application.html.erb_files/sb_button_next.png"></A></TD>
        </TR>
      </TBODY></TABLE>
      <A href="http://www.railstutorial.org/downloads/pdf?version=2.3.8"><IMG alt="Get PDF" src="./application.html.erb_files/sb_button_get_pdf.png"></A>
      <DIV class="connect">
        <TABLE class="center">
          <TBODY><TR>
            <TD><A href="http://feeds.feedburner.com/railstutorial"><IMG alt="Feed-icon24x24" src="./application.html.erb_files/feed-icon24x24.png" title="Get news updates via RSS"></A></TD>
            <TD><A href="http://feedburner.google.com/fb/a/mailverify?uri=railstutorial&loc=en_US"><IMG alt="Mail-icon-24x24" src="./application.html.erb_files/mail-icon-24x24.png" title="Get news updates by email"></A></TD>
            <TD><A href="http://www.facebook.com/pages/Ruby-on-Rails-Tutorial/197151265072"><IMG alt="Facebook-icon24x24" src="./application.html.erb_files/facebook-icon24x24.png" title="Become a fan on Facebook"></A></TD>
            <TD><A href="http://twitter.com/railstutorial"><IMG alt="Twitter-icon24x24" src="./application.html.erb_files/twitter-icon24x24.png" title="Follow on Twitter"></A></TD>
          </TR>
        </TBODY></TABLE>
      </DIV>
      <DIV class="section">
        Updated 2010-06-27
      </DIV>
    </DIV>
    <!-- .section -->
    <!-- Sidebar areas labeled with class "section", like this one, will be styled suitably for text. -->
  </DIV>
</DIV>
<!-- %h3 Get Involved -->
<!-- 
-->
<!-- .links -->
<!-- %p.subscribe -->
<!-- %span= link_to(image_tag('feed-icon32x32.png'), feed_url) -->
<!-- = link_to("Subscribe", feed_url) -->
<!-- %p.follow -->
<!-- = link_to(image_tag('twitter.png'), twitter_url) -->
<!-- = link_to("Follow", twitter_url) -->
<!-- 
-->

                      
        <DIV id="main" class="withsidebar">
          


<DIV id="book_menu">
  <A href="http://www.railstutorial.org/chapters/static-pages#main_content">skip to content</A>
  |
  <A href="http://www.railstutorial.org/book/ruby-on-rails-tutorial">single page</A>
</DIV>



<DIV id="book_wrap">
  <DIV id="book_top">
  </DIV>
    <DIV id="book">


<H1 class="title">Ruby on Rails Tutorial </H1>


<H1 class="subtitle">  Learn Rails by Example</H1>


<H2 class="author">Michael Hartl</H2>




<H1 class="contents">Contents</H1>


<DIV id="table_of_contents"><OL><LI class="chapter"><A href="http://www.railstutorial.org/chapters/beginning#top"><SPAN class="number">Chapter 1</SPAN> From zero to deploy</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/beginning#sec:introduction"><SPAN class="number">1.1</SPAN> Introduction</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:comments_for_various_readers"><SPAN class="number">1.1.1</SPAN> Comments for various readers</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.1.2"><SPAN class="number">1.1.2</SPAN> “Scaling” Rails</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:conventions"><SPAN class="number">1.1.3</SPAN> Conventions in this book</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/beginning#sec:up_and_running"><SPAN class="number">1.2</SPAN> Up and running</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:development_tools"><SPAN class="number">1.2.1</SPAN> Development environments</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.2.1.1">IDEs</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.2.1.2">Text editors and command lines</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.2.1.3">Browsers</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.2.1.4">A note about tools</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:rubygems"><SPAN class="number">1.2.2</SPAN> Ruby, RubyGems, and Rails</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:install_ruby">Install Ruby</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.2.2.2">Install RubyGems</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:install_rails">Install Rails</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:the_first_application"><SPAN class="number">1.2.3</SPAN> The first application</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:mvc"><SPAN class="number">1.2.4</SPAN> Model-view-controller (MVC)</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:script_server"><SPAN class="number">1.2.5</SPAN> <CODE>script/server</CODE></A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/beginning#sec:version_control"><SPAN class="number">1.3</SPAN> Version control with Git</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:git_setup"><SPAN class="number">1.3.1</SPAN> Installation and setup</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.3.1.1">First-time system setup</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.3.1.2">First-time repository setup</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:adding_and_committing"><SPAN class="number">1.3.2</SPAN> Adding and committing</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.3.3"><SPAN class="number">1.3.3</SPAN> What good does Git do you?</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:github"><SPAN class="number">1.3.4</SPAN> GitHub</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:git_commands"><SPAN class="number">1.3.5</SPAN> Branch, edit, commit, merge</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:git_branch">Branch</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:git_edit">Edit</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:git_commit">Commit</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:git_merge">Merge</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:git_push">Push</A></LI></OL></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/beginning#sec:deploying"><SPAN class="number">1.4</SPAN> Deploying</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.4.1"><SPAN class="number">1.4.1</SPAN> Heroku setup</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:heroku_step_one"><SPAN class="number">1.4.2</SPAN> Heroku deployment, step one</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:1.4.3"><SPAN class="number">1.4.3</SPAN> Heroku deployment, step two</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/beginning#sec:heroku_commands"><SPAN class="number">1.4.4</SPAN> Heroku commands</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/beginning#sec:beginning_conclusion"><SPAN class="number">1.5</SPAN> Conclusion</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/a-demo-app#top"><SPAN class="number">Chapter 2</SPAN> A demo app</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:planning_the_application"><SPAN class="number">2.1</SPAN> Planning the application</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:modeling_users"><SPAN class="number">2.1.1</SPAN> Modeling users</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:modeling_microposts"><SPAN class="number">2.1.2</SPAN> Modeling microposts</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:demo_users_resource"><SPAN class="number">2.2</SPAN> The Users resource</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:a_user_tour"><SPAN class="number">2.2.1</SPAN> A user tour</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:mvc_in_action"><SPAN class="number">2.2.2</SPAN> MVC in action</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:weaknesses_of_this_users_resource"><SPAN class="number">2.2.3</SPAN> Weaknesses of this Users resource</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:microposts_resource"><SPAN class="number">2.3</SPAN> The Microposts resource</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:a_micropost_microtour"><SPAN class="number">2.3.1</SPAN> A micropost microtour</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:putting_the_micro_in_microposts"><SPAN class="number">2.3.2</SPAN> Putting the <EM>micro</EM> in microposts</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:demo_user_has_many_microposts"><SPAN class="number">2.3.3</SPAN> A user <CODE>has_many</CODE> microposts</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:inheritance_hierarchies"><SPAN class="number">2.3.4</SPAN> Inheritance hierarchies</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:deploying_the_demo_app"><SPAN class="number">2.3.5</SPAN> Deploying the demo app</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/a-demo-app#sec:2.4"><SPAN class="number">2.4</SPAN> Conclusion</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/static-pages#top"><SPAN class="number">Chapter 3</SPAN> Mostly static pages</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages"><SPAN class="number">3.1</SPAN> Static pages</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:truly_static_pages"><SPAN class="number">3.1.1</SPAN> Truly static pages</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_with_rails"><SPAN class="number">3.1.2</SPAN> Static pages with Rails</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/static-pages#sec:first_tests"><SPAN class="number">3.2</SPAN> Our first tests</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:testing_tools"><SPAN class="number">3.2.1</SPAN> Testing tools</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:installing_rspec">Installing RSpec</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:installing_autotest">Installing Autotest</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:TDD"><SPAN class="number">3.2.2</SPAN> TDD: Red, Green, Refactor</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:red">Red</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:green">Green</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:refactor">Refactor</A></LI></OL></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/static-pages#sec:slightly_dynamic_pages"><SPAN class="number">3.3</SPAN> Slightly dynamic pages</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:testing_a_title_change"><SPAN class="number">3.3.1</SPAN> Testing a title change</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:passing_title_tests"><SPAN class="number">3.3.2</SPAN> Passing title tests</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:instance_variables_embedded_ruby"><SPAN class="number">3.3.3</SPAN> Instance variables and Embedded Ruby</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/static-pages#sec:layouts"><SPAN class="number">3.3.4</SPAN> Eliminating duplication with layouts</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_conclusion"><SPAN class="number">3.4</SPAN> Conclusion</A></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_exercises"><SPAN class="number">3.5</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#top"><SPAN class="number">Chapter 4</SPAN> Rails-flavored Ruby</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:motivation"><SPAN class="number">4.1</SPAN> Motivation</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:title_helper"><SPAN class="number">4.1.1</SPAN> A <CODE>title</CODE> helper</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:cascading_style_sheets"><SPAN class="number">4.1.2</SPAN> Cascading Style Sheets</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:strings_and_methods"><SPAN class="number">4.2</SPAN> Strings and methods</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:comments"><SPAN class="number">4.2.1</SPAN> Comments</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:strings"><SPAN class="number">4.2.2</SPAN> Strings</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:printing">Printing</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:single_quoted_strings">Single-quoted strings</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:objects_and_message_passing"><SPAN class="number">4.2.3</SPAN> Objects and message passing</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:method_definitions"><SPAN class="number">4.2.4</SPAN> Method definitions</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:back_to_the_title_helper"><SPAN class="number">4.2.5</SPAN> Back to the <CODE>title</CODE> helper</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:other_data_structures"><SPAN class="number">4.3</SPAN> Other data structures</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:arrays_and_ranges"><SPAN class="number">4.3.1</SPAN> Arrays and ranges</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:blocks"><SPAN class="number">4.3.2</SPAN> Blocks</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:hashes_and_symbols"><SPAN class="number">4.3.3</SPAN> Hashes and symbols</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:css_revisited"><SPAN class="number">4.3.4</SPAN> CSS revisited</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:ruby_classes"><SPAN class="number">4.4</SPAN> Ruby classes</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:constructors"><SPAN class="number">4.4.1</SPAN> Constructors</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:a_class_of_our_own"><SPAN class="number">4.4.2</SPAN> Class inheritance</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:modifying_built_in_classes"><SPAN class="number">4.4.3</SPAN> Modifying built-in classes</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:a_controller_class"><SPAN class="number">4.4.4</SPAN> A controller class</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:a_user_class"><SPAN class="number">4.4.5</SPAN> A user class</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:exercises"><SPAN class="number">4.5</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#top"><SPAN class="number">Chapter 5</SPAN> Filling in the layout</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:structure"><SPAN class="number">5.1</SPAN> Adding some structure</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:adding_to_the_layout"><SPAN class="number">5.1.1</SPAN> Site navigation</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:custom_css"><SPAN class="number">5.1.2</SPAN> Custom CSS</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:partials"><SPAN class="number">5.1.3</SPAN> Partials</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:layout_links"><SPAN class="number">5.2</SPAN> Layout links</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:integration_tests"><SPAN class="number">5.2.1</SPAN> Integration tests</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:rails_routes"><SPAN class="number">5.2.2</SPAN> Rails routes</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:named_routes"><SPAN class="number">5.2.3</SPAN> Named routes</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:user_signup"><SPAN class="number">5.3</SPAN> User signup: A first step</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:users_controller"><SPAN class="number">5.3.1</SPAN> Users controller</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:signup_url"><SPAN class="number">5.3.2</SPAN> Signup URL</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:layout_conclusion"><SPAN class="number">5.4</SPAN> Conclusion</A></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:layout_exercises"><SPAN class="number">5.5</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#top"><SPAN class="number">Chapter 6</SPAN> Modeling and viewing users, part I</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:user_model"><SPAN class="number">6.1</SPAN> User model</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:database_migrations"><SPAN class="number">6.1.1</SPAN> Database migrations</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:the_model_file"><SPAN class="number">6.1.2</SPAN> The model file</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:model_annotation">Model annotation</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:accessible_attributes">Accessible attributes</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:creating_user_objects"><SPAN class="number">6.1.3</SPAN> Creating user objects</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:finding_user_objects"><SPAN class="number">6.1.4</SPAN> Finding user objects</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:updating_user_objects"><SPAN class="number">6.1.5</SPAN> Updating user objects</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:user_validations"><SPAN class="number">6.2</SPAN> User validations</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:presence_validation"><SPAN class="number">6.2.1</SPAN> Validating presence</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:length_validation"><SPAN class="number">6.2.2</SPAN> Length validation</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:format_validation"><SPAN class="number">6.2.3</SPAN> Format validation</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:uniqueness_validation"><SPAN class="number">6.2.4</SPAN> Uniqueness validation</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:the_caveat">The uniqueness caveat</A></LI></OL></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:viewing_users"><SPAN class="number">6.3</SPAN> Viewing users</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:rails_environments"><SPAN class="number">6.3.1</SPAN> Debug and Rails environments</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:users_show"><SPAN class="number">6.3.2</SPAN> User model, view, controller</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:a_users_resource"><SPAN class="number">6.3.3</SPAN> A Users resource</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:6.4"><SPAN class="number">6.4</SPAN> Conclusion</A></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:6.5"><SPAN class="number">6.5</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#top"><SPAN class="number">Chapter 7</SPAN> Modeling and viewing users, part II</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:insecure_passwords"><SPAN class="number">7.1</SPAN> Insecure passwords</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:password_validations"><SPAN class="number">7.1.1</SPAN> Password validations</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:password_migration"><SPAN class="number">7.1.2</SPAN> A password migration</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:an_active_record_callback"><SPAN class="number">7.1.3</SPAN> An Active Record callback</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:secure_passwords"><SPAN class="number">7.2</SPAN> Secure passwords</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:a_secure_password_test"><SPAN class="number">7.2.1</SPAN> A secure password test</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:secure_password_theory"><SPAN class="number">7.2.2</SPAN> Some secure password theory</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:implementing_has_password"><SPAN class="number">7.2.3</SPAN> Implementing <CODE>has_password?</CODE></A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:an_authenticate_method"><SPAN class="number">7.2.4</SPAN> An authenticate method</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:better_user_views"><SPAN class="number">7.3</SPAN> Better user views</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:tests_with_factories"><SPAN class="number">7.3.1</SPAN> Testing the user show page (with factories)</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:a_name_and_a_gravatar"><SPAN class="number">7.3.2</SPAN> A name and a Gravatar</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:a_user_sidebar"><SPAN class="number">7.3.3</SPAN> A user sidebar</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:7.4"><SPAN class="number">7.4</SPAN> Conclusion</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:7.4.1"><SPAN class="number">7.4.1</SPAN> Git commit</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:heroku_deploy"><SPAN class="number">7.4.2</SPAN> Heroku deploy</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-two#sec:more_modeling_users_exercises"><SPAN class="number">7.5</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/sign-up#top"><SPAN class="number">Chapter 8</SPAN> Sign up</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-up#sec:signup_form"><SPAN class="number">8.1</SPAN> Signup form</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:using_form_for"><SPAN class="number">8.1.1</SPAN> Using <CODE>form_for</CODE></A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:the_form_html"><SPAN class="number">8.1.2</SPAN> The form HTML</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-up#sec:signup_failure"><SPAN class="number">8.2</SPAN> Signup failure</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:testing_failure"><SPAN class="number">8.2.1</SPAN> Testing failure</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:a_working_form"><SPAN class="number">8.2.2</SPAN> A working form</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:signup_error_messages"><SPAN class="number">8.2.3</SPAN> Signup error messages</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:filtering_parameter_logging"><SPAN class="number">8.2.4</SPAN> Filtering parameter logging</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-up#sec:signup_success"><SPAN class="number">8.3</SPAN> Signup success</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:testing_success"><SPAN class="number">8.3.1</SPAN> Testing success</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:the_finished_signup_form"><SPAN class="number">8.3.2</SPAN> The finished signup form</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:the_flash"><SPAN class="number">8.3.3</SPAN> The flash</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:the_first_signup"><SPAN class="number">8.3.4</SPAN> The first signup</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-up#sec:rspec_integration_tests"><SPAN class="number">8.4</SPAN> RSpec integration tests</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:webrat"><SPAN class="number">8.4.1</SPAN> Webrat</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:failed_signup"><SPAN class="number">8.4.2</SPAN> Users signup failure should not make a new user</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-up#sec:successful_signup"><SPAN class="number">8.4.3</SPAN> Users signup success should make a new user</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-up#sec:8.5"><SPAN class="number">8.5</SPAN> Conclusion</A></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-up#sec:signup_exercises"><SPAN class="number">8.6</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#top"><SPAN class="number">Chapter 9</SPAN> Sign in, sign out</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:sessions"><SPAN class="number">9.1</SPAN> Sessions</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:sessions_controller"><SPAN class="number">9.1.1</SPAN> Sessions controller</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:signin_form"><SPAN class="number">9.1.2</SPAN> Signin form</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:signin_failure"><SPAN class="number">9.2</SPAN> Signin failure</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:reviewing_form_submission"><SPAN class="number">9.2.1</SPAN> Reviewing form submission</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:failed_signin"><SPAN class="number">9.2.2</SPAN> Failed signin (test and code)</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:signin_success"><SPAN class="number">9.3</SPAN> Signin success</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:the_completed_create_action"><SPAN class="number">9.3.1</SPAN> The completed <CODE>create</CODE> action</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:remember_me"><SPAN class="number">9.3.2</SPAN> Remember me</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:cookies"><SPAN class="number">9.3.3</SPAN> Cookies</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:current_user"><SPAN class="number">9.3.4</SPAN> Current user</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:signing_out"><SPAN class="number">9.4</SPAN> Signing out</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:destroying_sessions"><SPAN class="number">9.4.1</SPAN> Destroying sessions</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:signin_upon_signup"><SPAN class="number">9.4.2</SPAN> Signin upon signup</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:changing_the_layout_links"><SPAN class="number">9.4.3</SPAN> Changing the layout links</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:signin_out_integration_tests"><SPAN class="number">9.4.4</SPAN> Signin/out integration tests</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:9.5"><SPAN class="number">9.5</SPAN> Conclusion</A></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/sign-in-sign-out#sec:sign_in_out_exercises"><SPAN class="number">9.6</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#top"><SPAN class="number">Chapter 10</SPAN> Updating, showing, and deleting users</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:updating_users"><SPAN class="number">10.1</SPAN> Updating users</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:edit_form"><SPAN class="number">10.1.1</SPAN> Edit form</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:enabling_edits"><SPAN class="number">10.1.2</SPAN> Enabling edits</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:protecting_pages"><SPAN class="number">10.2</SPAN> Protecting pages</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:requiring_signed_in_users"><SPAN class="number">10.2.1</SPAN> Requiring signed-in users</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:requiring_the_right_user"><SPAN class="number">10.2.2</SPAN> Requiring the right user</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:an_expectation_bonus"><SPAN class="number">10.2.3</SPAN> An expectation bonus</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:friendly_forwarding"><SPAN class="number">10.2.4</SPAN> Friendly forwarding</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:showing_users"><SPAN class="number">10.3</SPAN> Showing users</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:user_index"><SPAN class="number">10.3.1</SPAN> User index</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:sample_users"><SPAN class="number">10.3.2</SPAN> Sample users</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:pagination"><SPAN class="number">10.3.3</SPAN> Pagination</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:testing_pagination">Testing pagination</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:partial_refactoring"><SPAN class="number">10.3.4</SPAN> Partial refactoring</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:destroying_users"><SPAN class="number">10.4</SPAN> Destroying users</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:administrative_users"><SPAN class="number">10.4.1</SPAN> Administrative users</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:revisiting_attr_accessible">Revisiting <CODE>attr_accessible</CODE></A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:the_destroy_action"><SPAN class="number">10.4.2</SPAN> The <CODE>destroy</CODE> action</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:10.5"><SPAN class="number">10.5</SPAN> Conclusion</A></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/updating-showing-and-deleting-users#sec:updating_deleting_exercises"><SPAN class="number">10.6</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/user-microposts#top"><SPAN class="number">Chapter 11</SPAN> User microposts</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:a_micropost_model"><SPAN class="number">11.1</SPAN> A Micropost model</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:the_basic_model"><SPAN class="number">11.1.1</SPAN> The basic model</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:accessible_attribute">Accessible attribute</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:user_micropost_associations"><SPAN class="number">11.1.2</SPAN> User/Micropost associations</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:ordering_and_dependency"><SPAN class="number">11.1.3</SPAN> Micropost refinements</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:default_scope">Default scope</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:dependent_destroy">Dependent: destroy</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:micropost_validations"><SPAN class="number">11.1.4</SPAN> Micropost validations</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:showing_microposts"><SPAN class="number">11.2</SPAN> Showing microposts</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:augmenting_the_user_show_page"><SPAN class="number">11.2.1</SPAN> Augmenting the user show page</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:sample_microposts"><SPAN class="number">11.2.2</SPAN> Sample microposts</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:manipulating_microposts"><SPAN class="number">11.3</SPAN> Manipulating microposts</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:access_control"><SPAN class="number">11.3.1</SPAN> Access control</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:creating_microposts"><SPAN class="number">11.3.2</SPAN> Creating microposts</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:a_proto_feed"><SPAN class="number">11.3.3</SPAN> A proto-feed</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:destroying_microposts"><SPAN class="number">11.3.4</SPAN> Destroying microposts</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:testing_the_new_home_page"><SPAN class="number">11.3.5</SPAN> Testing the new home page</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:11.4"><SPAN class="number">11.4</SPAN> Conclusion</A></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/user-microposts#sec:micropost_exercises"><SPAN class="number">11.5</SPAN> Exercises</A></LI></OL></LI><LI class="chapter"><A href="http://www.railstutorial.org/chapters/following-users#top"><SPAN class="number">Chapter 12</SPAN> Following users</A></LI><LI><OL><LI class="section"><A href="http://www.railstutorial.org/chapters/following-users#sec:the_relationship_model"><SPAN class="number">12.1</SPAN> The Relationship model</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:a_problem_with_the_data_model"><SPAN class="number">12.1.1</SPAN> A problem with the data model (and a solution)</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:relationship_user_associations"><SPAN class="number">12.1.2</SPAN> User/relationship associations</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:relationship_validations"><SPAN class="number">12.1.3</SPAN> Validations</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:following"><SPAN class="number">12.1.4</SPAN> Following</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:followers"><SPAN class="number">12.1.5</SPAN> Followers</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/following-users#sec:a_web_interface_for_following_and_followers"><SPAN class="number">12.2</SPAN> A web interface for following and followers</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:sample_following_data"><SPAN class="number">12.2.1</SPAN> Sample following data</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:stats_and_a_follow_form"><SPAN class="number">12.2.2</SPAN> Stats and a follow form</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:following_and_followers_pages"><SPAN class="number">12.2.3</SPAN> Following and followers pages</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:a_working_follow_button_the_standard_way"><SPAN class="number">12.2.4</SPAN> A working follow button the standard way</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:a_working_follow_button_with_ajax"><SPAN class="number">12.2.5</SPAN> A working follow button with Ajax</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/following-users#sec:the_status_feed"><SPAN class="number">12.3</SPAN> The status feed</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:motivation_and_strategy"><SPAN class="number">12.3.1</SPAN> Motivation and strategy</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:a_first_feed_implementation"><SPAN class="number">12.3.2</SPAN> A first feed implementation</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:scopes_subselects_and_a_lambda"><SPAN class="number">12.3.3</SPAN> Scopes, subselects, and a lambda</A></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:the_new_status_feed"><SPAN class="number">12.3.4</SPAN> The new status feed</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/following-users#sec:following_conclusion"><SPAN class="number">12.4</SPAN> Conclusion</A></LI><LI><OL><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:extensions_to_the_sample_application"><SPAN class="number">12.4.1</SPAN> Extensions to the sample application</A></LI><LI><OL><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:replies">Replies</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:messaging">Messaging</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:follower_notifications">Follower notifications</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:password_reminders">Password reminders</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:signup_confirmation">Signup confirmation</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:rss_feed">RSS feed</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:rest_api">REST API</A></LI><LI class="subsubsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:search">Search</A></LI></OL></LI><LI class="subsection"><A href="http://www.railstutorial.org/chapters/following-users#sec:guide_to_further_resources"><SPAN class="number">12.4.2</SPAN> Guide to further resources</A></LI></OL></LI><LI class="section"><A href="http://www.railstutorial.org/chapters/following-users#sec:following_exercises"><SPAN class="number">12.5</SPAN> Exercises</A></LI></OL></LI></OL></DIV>


<DIV id="main_content"></DIV>


<P> <SPAN class="preamble">
 <SPAN id="author">
<STRONG> About the author</STRONG> <BR>
 </SPAN>
 </SPAN></P>

<P><A href="http://www.michaelhartl.com/">Michael Hartl</A> is a programmer, educator, and entrepreneur. Michael was coauthor of <EM>RailsSpace</EM>, a best-selling Rails tutorial book published in 2007, and was cofounder and lead developer of <A href="http://insoshi.com/">Insoshi</A>, a <A href="http://github.com/popular/forked">popular</A> social networking platform in Ruby on Rails. Previously, he taught theoretical and computational physics at the <A href="http://www.caltech.edu/">California Institute of Technology</A> (Caltech) for six years, where he received the Lifetime Achievement Award for Excellence in Teaching in 2000. Michael is a graduate of <A href="http://college.harvard.edu/">Harvard College</A>, has a <A href="http://resolver.caltech.edu/CaltechETD:etd-05222003-161626">Ph.D. in Physics</A> from <A href="http://www.caltech.edu/">Caltech</A>, and is an alumnus of the <A href="http://ycombinator.com/">Y&nbsp;Combinator</A> program. <BR></P>

<P> <SPAN class="preamble">
 <SPAN id="in_progress">
<STRONG> Tutorial feedback</STRONG> <BR>
 </SPAN>
 </SPAN></P>

<P>If you have comments or suggestions on <EM>Ruby on Rails Tutorial</EM>, I welcome your <A href="http://www.railstutorial.org/feedback">feedback</A>. You should also subscribe via <A href="http://feeds.feedburner.com/railstutorial">RSS</A> or <A href="http://feedburner.google.com/fb/a/mailverify?uri=railstutorial&amp;loc=en_US">by email</A> to get the latest project updates. See the main Ruby on Rails Tutorial website at <A href="http://www.railstutorial.org/">http://www.railstutorial.org/</A> for more information. <BR></P>

<P> <SPAN class="preamble">
<STRONG> Ruby on Rails Tutorial Screencasts</STRONG> <BR>
 </SPAN></P>

<P>To complement the written book, I plan to produce an associated screencast series. If you’d like to be notified when the screencasts are ready, you should <A href="http://feeds.feedburner.com/railstutorial">subscribe to the news feed</A> or  <A href="http://feedburner.google.com/fb/a/mailverify?uri=railstutorial&amp;loc=en_US">sign up for email notifications</A>. <BR></P>

<P> <SPAN class="preamble">
<STRONG> Acknowledgments</STRONG> <BR>
 </SPAN></P>

<P>This book owes a lot to my previous Rails book, <EM>RailsSpace</EM>, and hence to my coauthor <A href="http://aure.com/">Aurelius Prochazka</A>. I’d like to thank Aure both for the work he did on that book and for his support of this one. I’d also like to thank the <A href="http://rubyonrails.org/activists">Rails Activists</A> for their support and enthusiasm. Finally, a huge number of readers—far too many to list—have contributed bug reports and suggestions (mostly via the <A href="http://getsatisfaction.com/railstutorial">Rails Tutorial Get Satisfaction page</A>), and I gratefully acknowledge their help in making this book as good as it can be.  <BR></P>

<P> <SPAN id="license" class="preamble">
<STRONG> Copyright and license</STRONG> <BR>
 </SPAN></P>

<P><EM>Ruby on Rails Tutorial: Learn Rails by Example</EM>. Copyright © 2010 by Michael Hartl. All source code in <EM>Ruby on Rails Tutorial</EM> is available under the <A href="http://www.opensource.org/licenses/mit-license.php">MIT License</A> and the <A href="http://en.wikipedia.org/wiki/Beerware">Beerware License</A>.</P>

<PRE class="verbatim">   Copyright (c) 2010 Michael Hartl

   Permission is hereby granted, free of charge, to any person
   obtaining a copy of this software and associated documentation
   files (the "Software"), to deal in the Software without
   restriction, including without limitation the rights to use,
   copy, modify, merge, publish, distribute, sublicense, and/or sell
   copies of the Software, and to permit persons to whom the
   Software is furnished to do so, subject to the following
   conditions:

   The above copyright notice and this permission notice shall be
   included in all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
   OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
   HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
   WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   OTHER DEALINGS IN THE SOFTWARE.</PRE>




<PRE class="verbatim">/*
 * ---------------------------------------------------------------------------
 * "THE BEERWARE LICENSE" (Revision 42):
 * Michael Hartl wrote this code. As long as you retain this notice, you can
 * do whatever you want with this stuff. If we meet someday, and you think
 * this stuff is worth it, you can buy me a beer in return.
 * ---------------------------------------------------------------------------
 */</PRE>




<DIV id="top"></DIV>


<H1 class="chapter"><A id="sec:3" href="http://www.railstutorial.org/chapters/static-pages#top" class="heading"><SPAN class="number">Chapter 3</SPAN> Mostly static pages</A></H1>


<P>In this chapter, we will begin developing the sample application that will serve as our example throughout the rest of this tutorial. Although the sample app will eventually have users, microposts, and a full login and authentication framework, we will begin with a seemingly limited topic: the creation of static pages. Despite its seeming simplicity, making static pages is a highly instructive exercise, rich in implications—a perfect start for our nascent application.</P>

<P>Although Rails is designed for making database-backed dynamic websites, it also excels at making the kind of static pages we might make with raw HTML files. In fact, using Rails even for static pages yields a distinct advantage: we can easily add just a <EM>small</EM> amount of dynamic content. In this chapter we’ll learn how. Along the way, we’ll get our first taste of <EM>automated testing</EM>, which will help us be more confident that our code is correct. Moreover, having a good test suite will allow us to <EM>refactor</EM> our code with confidence, changing its form without changing its function.</P>

<P>As in <A class="ref" href="http://www.railstutorial.org/chapters/a-demo-app#top">Chapter&nbsp;2</A>, before getting started we need to create a new Rails project, this time called <TT>sample_app</TT>:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> <SPAN class="nb">cd</SPAN> ~/rails_projects
<SPAN class="gp">$</SPAN> rails sample_app
<SPAN class="gp">$</SPAN> <SPAN class="nb">cd </SPAN>sample_app
</PRE></DIV>
</DIV>


<P>As before, we’ll copy the <CODE>.gitignore</CODE> file from <A class="ref" href="http://www.railstutorial.org/chapters/beginning#code:gitignore">Listing&nbsp;1.2</A> to the sample app’s Rails root directory:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> git init
<SPAN class="gp">$</SPAN> cp ~/rails_projects/first_app/.gitignore .
<SPAN class="gp">$</SPAN> git add .
<SPAN class="gp">$</SPAN> git commit -m <SPAN class="s2">"Initial commit"</SPAN>
</PRE></DIV>
</DIV>


<DIV class="label" id="fig:create_repository"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/create_repository.png" alt="create_repository"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.1: </SPAN><SPAN class="description">Creating the sample app repository at GitHub.&nbsp;<A href="http://www.railstutorial.org/images/figures/create_repository-full.png">(full size)</A></SPAN></DIV></DIV>


<P>Since we’ll be using this sample app throughout the rest of the book, it’s a good idea to make a repository at GitHub (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:create_repository">Figure&nbsp;3.1</A>) and push it up:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> git remote add origin git@github.com:&lt;username&gt;/sample_app.git
<SPAN class="gp">$</SPAN> git push origin master
</PRE></DIV>
</DIV>


<P>Of course, we can optionally deploy the app to Heroku even at this early stage:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> heroku create
<SPAN class="gp">$</SPAN> git push heroku master
</PRE></DIV>
</DIV>


<P>As you proceed through the rest of the book, I recommend pushing and deploying the application regularly:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> git push
<SPAN class="gp">$</SPAN> git push heroku
</PRE></DIV>
</DIV>


<P>With that, we’re ready to get started developing the sample application.</P>

<DIV class="label" id="sec:static_pages"></DIV>


<H2><A id="sec:3.1" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages" class="heading"><SPAN class="number">3.1</SPAN> Static pages</A></H2>


<P>Rails has two main ways of making static web pages. First, Rails can handle <EM>truly</EM> static pages consisting of raw HTML files. Second, Rails allows us to define <EM>views</EM> containing raw HTML, which Rails can <EM>render</EM> so that the web server can send it to the browser.</P>

<P>In order to get our bearings, it’s helpful to recall the Rails directory structure from <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:the_first_application">Section&nbsp;1.2.3</A> (<A class="ref" href="http://www.railstutorial.org/chapters/beginning#fig:directory_structure">Figure&nbsp;1.3</A>). In this section, we’ll be working mainly in the <CODE>app/controllers</CODE> and <CODE>app/views</CODE> directories. (In <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:first_tests">Section&nbsp;3.2</A>, we’ll even add a new directory of our own.)</P>

<DIV class="label" id="sec:truly_static_pages"></DIV>


<H3><A id="sec:3.1.1" href="http://www.railstutorial.org/chapters/static-pages#sec:truly_static_pages" class="heading"><SPAN class="number">3.1.1</SPAN> Truly static pages</A></H3>


<P>We start with truly static pages. Recall from <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:script_server">Section&nbsp;1.2.5</A> that every Rails application comes with a minimal working application thanks to the <CODE>rails</CODE> script, with a default welcome page at the address <A href="http://localhost:3000/"><TT>http://localhost:3000/</TT></A> (<A class="ref" href="http://www.railstutorial.org/chapters/beginning#fig:riding_rails">Figure&nbsp;1.5</A>).</P>

<DIV class="label" id="fig:public_index"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/public_index.png" alt="public_index"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.2: </SPAN><SPAN class="description">The <CODE>public/index.html</CODE> file.&nbsp;<A href="http://www.railstutorial.org/images/figures/public_index-full.png">(full size)</A></SPAN></DIV></DIV>


<P>To learn where this page comes from, take a look at the file <CODE>public/index.html</CODE> (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:public_index">Figure&nbsp;3.2</A>). Because the file contains its own stylesheet information, it’s a little messy, but it gets the job done: by default, Rails serves any files in the <CODE>public</CODE> directory directly to the browser.<SUP class="footnote" id="fnref:3.1"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.1">1</A></SUP> In the case of the special <CODE>index.html</CODE> file, you don’t even have to indicate the file in the URL, as <CODE>index.html</CODE> is the default. You can include it if you want, though; the addresses</P>

<PRE class="verbatim">http://localhost:3000/</PRE>


<P>and</P>

<PRE class="verbatim">http://localhost:3000/index.html</PRE>


<P>are equivalent.</P>

<P>As you might expect, if we want we can make our own static HTML files and put them in the same <CODE>public</CODE> directory as <CODE>index.html</CODE>. For example, let’s create a file with a friendly greeting (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:hello_world">Listing&nbsp;3.1</A>):<SUP class="footnote" id="fnref:3.2"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.2">2</A></SUP></P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> mate public/hello.html
</PRE></DIV>
</DIV>


<DIV class="label" id="code:hello_world"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.1.</SPAN> <SPAN class="description">A typical HTML file, with a friendly greeting. <BR> <CODE>public/hello.html</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_052fe09e2080d9f6bd72393f888fe5a495e49d7d">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3EGreeting%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cp%3EHello,%20world!%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3EGreeting%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Cp%3EHello,%20world!%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Greeting<SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
    <SPAN class="nt">&lt;p&gt;</SPAN>Hello, world!<SPAN class="nt">&lt;/p&gt;</SPAN>
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>We see in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:hello_world">Listing&nbsp;3.1</A> the typical structure of an HTML document: a <EM>document type</EM>, or doctype, declaration at the top to tell browsers which version of HTML we’re using;<SUP class="footnote" id="fnref:3.3"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.3">3</A></SUP> a <CODE>head</CODE> section, in this case with “Greeting” inside a <CODE>title</CODE> tag; and a <CODE>body</CODE> section, in this case with “Hello, world!” inside a <CODE>p</CODE> (paragraph) tag. (The indentation is optional—HTML is not sensitive to whitespace, and ignores both tabs and spaces—but it makes the document’s structure easier to see.) As promised, when visiting the address <A href="http://localhost:3000/hello.html"><TT>http://localhost:3000/hello.html</TT></A>,  Rails renders it straightaway (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:hello_world">Figure&nbsp;3.3</A>). Note that the title displayed at the top of the browser window in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:hello_world">Figure&nbsp;3.3</A> is just the contents inside the <CODE>title</CODE> tag, namely, “Greeting”.</P>

<DIV class="label" id="fig:hello_world"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/hello_world.png" alt="hello_world"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.3: </SPAN><SPAN class="description">Our very own static HTML file (<A href="http://localhost:3000/hello.html"><TT>http://localhost:3000/hello.html</TT></A>).&nbsp;<A href="http://www.railstutorial.org/images/figures/hello_world-full.png">(full size)</A></SPAN></DIV></DIV>


<P>Since this file is just for demonstration purposes, we don’t really want it to be part of our sample application, so it’s probably best to remove it once the thrill of creating it has worn off:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> rm public/hello.html
</PRE></DIV>
</DIV>


<P>We’ll leave the <CODE>index.html</CODE> file alone for now, but of course eventually we should remove it: we don’t want the root of our application to be the Rails default page shown in <A class="ref" href="http://www.railstutorial.org/chapters/beginning#fig:riding_rails">Figure&nbsp;1.5</A>. We’ll see in <A class="ref" href="http://www.railstutorial.org/chapters/filling-in-the-layout#sec:layout_links">Section&nbsp;5.2</A> how to change the address <TT>http://localhost:3000/</TT> to point to something other than <CODE>public/index.html</CODE>.</P>

<DIV class="label" id="sec:static_pages_with_rails"></DIV>


<H3><A id="sec:3.1.2" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_with_rails" class="heading"><SPAN class="number">3.1.2</SPAN> Static pages with Rails</A></H3>


<P>The ability to return static HTML files is nice, but it’s not particularly useful for making dynamic web applications. In this section, we’ll take a first step toward making dynamic pages by creating a set of Rails <EM>actions</EM>, which are a more powerful way to define URLs than static files.<SUP class="footnote" id="fnref:3.4"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.4">4</A></SUP> Rails actions come bundled together inside <EM>controllers</EM> (the C in MVC from <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:mvc">Section&nbsp;1.2.4</A>), which contain sets of actions related by a common purpose. We got a glimpse of controllers in <A class="ref" href="http://www.railstutorial.org/chapters/a-demo-app#top">Chapter&nbsp;2</A>, and will come to a deeper understanding once we explore the <A href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST architecture</A> more fully (starting in <A class="ref" href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#top">Chapter&nbsp;6</A>); in essence, a controller is a container for a group of (possibly dynamic) web pages.</P>

<P>To get started, recall from <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:git_commands">Section&nbsp;1.3.5</A> that, when using Git, it’s a good practice to do our work on a separate branch topic branch rather than the master branch. If you’re using Git for version control, you should run the following command:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> git checkout -b static-pages
</PRE></DIV>
</DIV>


<P>Rails comes with a script for making controllers called <CODE>generate</CODE>; all it needs to work its magic is the controller’s name. Since we’re making this controller to handle (mostly) static pages, we’ll just call it the Pages controller, and plan to make actions for a Home page, a Contact page, and an About page. The <CODE>generate</CODE> script takes an optional list of actions, so we’ll include some of our initial actions directly on the command line:<SUP class="footnote" id="fnref:3.5"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.5">5</A></SUP></P>

<DIV class="label" id="code:generating_pages"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.2.</SPAN> <SPAN class="description">Generating a Pages controller.</SPAN> </DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> script/generate controller Pages home contact
<SPAN class="go">      exists  app/controllers/</SPAN>
<SPAN class="go">      exists  app/helpers/</SPAN>
<SPAN class="go">      create  app/views/pages</SPAN>
<SPAN class="go">      exists  test/functional/</SPAN>
<SPAN class="go">      create  test/unit/helpers/</SPAN>
<SPAN class="go">      create  app/controllers/pages_controller.rb</SPAN>
<SPAN class="go">      create  test/functional/pages_controller_test.rb</SPAN>
<SPAN class="go">      create  app/helpers/pages_helper.rb</SPAN>
<SPAN class="go">      create  test/unit/helpers/pages_helper_test.rb</SPAN>
<SPAN class="go">      create  app/views/pages/home.html.erb</SPAN>
<SPAN class="go">      create  app/views/pages/contact.html.erb</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>Here, I’ve intentionally “forgotten” the <CODE>about</CODE> page so that we can see how to add it in by hand (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:first_tests">Section&nbsp;3.2</A>).</P>

<P>By default, Rails ensures that the actions inside controllers can be found at a URL of the following form:</P>

<PRE class="verbatim">http://localhost:3000/controller/action</PRE>


<P>In our case, this means that when we generate a <CODE>home</CODE> action inside the Pages controller we automatically get a page at the address <TT>/pages/home</TT>. To see the results, kill the server by hitting Ctrl-C, run <CODE>script/server</CODE>, and then navigate to <A href="http://localhost:3000/pages/home"><TT>/pages/home</TT></A> (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:raw_home_view">Figure&nbsp;3.4</A>).</P>

<DIV class="label" id="fig:raw_home_view"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/raw_home_view.png" alt="raw_home_view"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.4: </SPAN><SPAN class="description">The raw home view (<A href="http://localhost:3000/pages/home"><TT>/pages/home</TT></A>) generated by Rails.&nbsp;<A href="http://www.railstutorial.org/images/figures/raw_home_view-full.png">(full size)</A></SPAN></DIV></DIV>


<P>To understand where this page comes from, let’s start by taking a look at the Pages controller in a text editor; you should see something like <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:pages_controller">Listing&nbsp;3.3</A>. (You may note that, unlike the demo Users and Microposts controllers from <A class="ref" href="http://www.railstutorial.org/chapters/a-demo-app#top">Chapter&nbsp;2</A>, the Pages controller does not follow the REST conventions.)</P>

<DIV class="label" id="code:pages_controller"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.3.</SPAN> <SPAN class="description">The Pages controller made by <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:generating_pages">Listing&nbsp;3.2</A>. <BR> <CODE>app/controllers/pages_controller.rb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_daf7a25176dd009509f2cc1d37d157b7eb751a03">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=class%20PagesController%20%3C%20ApplicationController%0A%0A%20%20def%20home%0A%20%20end%0A%0A%20%20def%20contact%0A%20%20end%0Aend%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=class%20PagesController%20%3C%20ApplicationController%0A%0A%20%20def%20home%0A%20%20end%0A%0A%20%20def%20contact%0A%20%20end%0Aend%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="k">class</SPAN> <SPAN class="nc">PagesController</SPAN> <SPAN class="o">&lt;</SPAN> <SPAN class="no">ApplicationController</SPAN>

  <SPAN class="k">def</SPAN> <SPAN class="nf">home</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="k">def</SPAN> <SPAN class="nf">contact</SPAN>
  <SPAN class="k">end</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>We see here that <CODE>pages_controller.rb</CODE> defines a <EM>class</EM> called <CODE>PagesController</CODE>. Classes are simply a convenient way to organize <EM>functions</EM> (also called <EM>methods</EM>) like the <CODE>home</CODE> and <CODE>contact</CODE> actions, which are defined using the <CODE>def</CODE> keyword. The angle bracket&nbsp;<CODE>&lt;</CODE> indicates that <CODE>PagesController</CODE> <EM>inherits</EM> from the Rails class <CODE>ApplicationController</CODE>; as we’ll see momentarily, this means that our pages come equipped with a large amount of Rails-specific functionality. (We’ll learn more about both classes and inheritance in <A class="ref" href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:ruby_classes">Section&nbsp;4.4</A>.)</P>

<P>In the case of the Pages controller, both its methods are initially empty:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="k">def</SPAN> <SPAN class="nf">home</SPAN>
<SPAN class="k">end</SPAN>

<SPAN class="k">def</SPAN> <SPAN class="nf">contact</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV>


<P>In plain Ruby, these methods would simply do nothing. In Rails, the situation is different; <CODE>PagesController</CODE> is a Ruby class, but because it inherits from <CODE>ApplicationController</CODE> the behavior of its methods is specific to Rails: when visiting the URL <TT>/pages/home</TT>, Rails looks in the Pages controller and executes the code in the <CODE>home</CODE> action, and then renders the <EM>view</EM> (the V in MVC from <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:mvc">Section&nbsp;1.2.4</A>) corresponding to the action. In the present case, the <CODE>home</CODE> action is empty, so all hitting <TT>/pages/home</TT> does is render the view. So, what does a view look like, and how do we find it?</P>

<P>If you take another look at the output in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:generating_pages">Listing&nbsp;3.2</A>, you might be able to guess the correspondence between actions and views: an action like <CODE>home</CODE> has a corresponding view called <CODE>home.html.erb</CODE>. We’ll learn in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:slightly_dynamic_pages">Section&nbsp;3.3</A> what the <CODE>.erb</CODE> part means; from the <CODE>.html</CODE> part you probably won’t be surprised that it basically looks like HTML (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:raw_home_view">Listing&nbsp;3.4</A>).</P>

<DIV class="label" id="code:raw_home_view"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.4.</SPAN> <SPAN class="description">The generated view for the Home page. <BR> <CODE>app/views/pages/home.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_fdaa5a9e1f499337423a396d61157b1f64a5f444">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3Ch1%3EPages%23home%3C/h1%3E%0A%3Cp%3EFind%20me%20in%20app/views/pages/home.html.erb%3C/p%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3Ch1%3EPages%23home%3C/h1%3E%0A%3Cp%3EFind%20me%20in%20app/views/pages/home.html.erb%3C/p%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;h1&gt;</SPAN>Pages#home<SPAN class="nt">&lt;/h1&gt;</SPAN>
<SPAN class="nt">&lt;p&gt;</SPAN>Find me in app/views/pages/home.html.erb<SPAN class="nt">&lt;/p&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>The view for the <CODE>contact</CODE> action is analogous (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:raw_contact_view">Listing&nbsp;3.5</A>).</P>

<DIV class="label" id="code:raw_contact_view"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.5.</SPAN> <SPAN class="description">The generated view for the Contact page. <BR> <CODE>app/views/pages/contact.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_9d4f6865f3f35ddff266e4353b66b7d5819044a3">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3Ch1%3EPages%23contact%3C/h1%3E%0A%3Cp%3EFind%20me%20in%20app/views/pages/contact.html.erb%3C/p%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3Ch1%3EPages%23contact%3C/h1%3E%0A%3Cp%3EFind%20me%20in%20app/views/pages/contact.html.erb%3C/p%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;h1&gt;</SPAN>Pages#contact<SPAN class="nt">&lt;/h1&gt;</SPAN>
<SPAN class="nt">&lt;p&gt;</SPAN>Find me in app/views/pages/contact.html.erb<SPAN class="nt">&lt;/p&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>Both of these views are just placeholders: they have a top-level heading (inside the <CODE>h1</CODE> tag) and a paragraph (<CODE>p</CODE> tag) with the full path to the relevant file. We’ll add some (very slightly) dynamic content starting in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:slightly_dynamic_pages">Section&nbsp;3.3</A>, but as they stand these views underscore an important point: Rails views can simply contain static HTML. As far as the browser is concerned, the raw HTML files from <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:truly_static_pages">Section&nbsp;3.1.1</A> and the controller/action method of delivering pages are indistinguishable: all the browser ever sees is HTML.</P>

<P>In the remainder of this chapter, we’ll first add the <CODE>about</CODE> action we “forgot” in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_with_rails">Section&nbsp;3.1.2</A>, add a very small amount of dynamic content, and then take the first steps toward styling the pages with CSS. Before moving on, if you’re using Git it’s a good idea to add the files for the Pages controller to the repository at this time:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> git add .
<SPAN class="gp">$</SPAN> git commit -am <SPAN class="s2">"Added a Pages controller"</SPAN>
</PRE></DIV>
</DIV>


<P>You may recall from <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:git_commands">Section&nbsp;1.3.5</A> that we used the Git command <CODE>git commit -a -m "Message"</CODE>, with flags for “all changes” (<CODE>-a</CODE>) and a message (<CODE>-m</CODE>); Git also lets us roll the two flags into one as <CODE>-am</CODE>, and I’ll stick with this more compact formulation throughout the rest of this book.</P>

<DIV class="label" id="sec:first_tests"></DIV>


<H2><A id="sec:3.2" href="http://www.railstutorial.org/chapters/static-pages#sec:first_tests" class="heading"><SPAN class="number">3.2</SPAN> Our first tests</A></H2>


<P>If you ask five Rails developers how to test any given piece of code, you’ll get about fifteen different answers—but they’ll all agree that you should definitely be writing tests. It’s in this spirit that we’ll approach testing our sample application, writing solid tests without worrying too much about making them perfect. You shouldn’t take the tests in <EM>Rails Tutorial</EM> as gospel; they are based on the style I have developed during my own work and from reading the code of others. As you gain experience as a Rails developer, you will no doubt form your own preferences and develop your own testing style.</P>

<P>In addition to writing tests throughout the development of the sample application, we will also make the increasingly common choice about <EM>when</EM> to write tests by writing them <EM>before</EM> the application code—an approach known as <EM>test-driven development</EM>, or TDD.<SUP class="footnote" id="fnref:3.6"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.6">6</A></SUP> Our specific example will be to add an About page to our sample site. Fortunately, adding the extra page is not hard—you might even be able to guess the answer based on the examples in the previous section—which means that we can focus on testing, which contains quite a few new ideas.</P>

<P>At first, testing for the existence of a page might seem like overkill, but experience shows that it is not. So many things can go wrong when writing software that having a good test suite is invaluable to assure quality. Moreover, it is common for computer programs—and especially web applications—to be constantly extended, and any time you make a change you risk introducing errors. Writing tests doesn’t guarantee that these bugs won’t happen, but it makes them much more likely to be caught (and fixed) when they occur. Furthermore, by writing tests for bugs that <EM>do</EM> happen, we can make them much less likely to recur.</P>

<P>(As noted in <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:comments_for_various_readers">Section&nbsp;1.1.1</A>, if you find the tests overwhelming, go ahead and skip them on first reading. Once you have a stronger grasp of Rails and Ruby, you can loop back and learn testing on a second pass.)</P>

<DIV class="label" id="sec:testing_tools"></DIV>


<H3><A id="sec:3.2.1" href="http://www.railstutorial.org/chapters/static-pages#sec:testing_tools" class="heading"><SPAN class="number">3.2.1</SPAN> Testing tools</A></H3>


<P>To write tests for our sample application, we’ll be using a framework called <A href="http://rspec.info/">RSpec</A>, which is a <A href="http://en.wikipedia.org/wiki/Domain_Specific_Language"><EM>domain-specific language</EM></A> for describing the behavior of code, together with a program (called <CODE>spec</CODE>) to verify the desired behavior. Designed for testing any Ruby program, RSpec has gained significant traction in the Rails community. Obie Fernandez, author of <A href="http://www.amazon.com/gp/product/B000XPPW9G?ie=UTF8&tag=httpwwwrailst-20&linkCode=as2&camp=1789&creative=9325&creativeASIN=B000XPPW9G"><EM>The Rails Way</EM></A>, has called RSpec “the Rails Way”, and I agree.<SUP class="footnote" id="fnref:3.7"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.7">7</A></SUP></P>

<DIV class="label" id="sec:installing_rspec"></DIV>


<H4><A id="sec:3.2.1.1" href="http://www.railstutorial.org/chapters/static-pages#sec:installing_rspec" class="heading">Installing RSpec</A></H4>


<P>Since RSpec comes as a gem, installing it is easy:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> <SPAN class="o">[</SPAN>sudo<SPAN class="o">]</SPAN> gem install rspec -v 1.3.0
<SPAN class="gp">$</SPAN> <SPAN class="o">[</SPAN>sudo<SPAN class="o">]</SPAN> gem install rspec-rails -v 1.3.2
</PRE></DIV>
</DIV>


<P>If you’re using Ruby&nbsp;1.8.7 or lower, RSpec should now be operational, but it won’t work immediately if you’re using Ruby&nbsp;1.9. RSpec is built on top of the <TT>Test::Unit</TT> library, the default testing framework for Rails; up through Ruby&nbsp;1.8.7, <TT>Test::Unit</TT> ships as part of the Ruby Standard Library, but (for reasons unknown to me) it is no longer included in Ruby&nbsp;1.9. Moreover, RSpec doesn’t yet work with the most recent standalone version of <TT>Test::Unit</TT>. This means that, if you are using Ruby&nbsp;1.9, you should uninstall any existing versions of <TT>Test::Unit</TT> and then install the version RSpec needs:<SUP class="footnote" id="fnref:3.8"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.8">8</A></SUP></P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> ruby -v
<SPAN class="go">1.9.1</SPAN>
<SPAN class="gp">$</SPAN> <SPAN class="o">[</SPAN>sudo<SPAN class="o">]</SPAN> gem uninstall <SPAN class="nb">test</SPAN>-unit
<SPAN class="gp">$</SPAN> <SPAN class="o">[</SPAN>sudo<SPAN class="o">]</SPAN> gem install <SPAN class="nb">test</SPAN>-unit -v 1.2.3
</PRE></DIV>
</DIV>


<P>To get RSpec started in a Rails application, we just need to run a script in the Rails root directory that generates some initial files:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> script/generate rspec
</PRE></DIV>
</DIV>


<P>Then add the files to the repository:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> git add .
<SPAN class="gp">$</SPAN> git status
<SPAN class="gp">#</SPAN> On branch static-pages
<SPAN class="gp">#</SPAN> Changes to be committed:
<SPAN class="gp">#</SPAN>   <SPAN class="o">(</SPAN>use <SPAN class="s2">"git reset HEAD &lt;file&gt;..."</SPAN> to unstage<SPAN class="o">)</SPAN>
<SPAN class="gp">#</SPAN>
<SPAN class="gp">#</SPAN>       new file:   lib/tasks/rspec.rake
<SPAN class="gp">#</SPAN>       new file:   script/autospec
<SPAN class="gp">#</SPAN>       new file:   script/spec
<SPAN class="gp">#</SPAN>       new file:   spec/rcov.opts
<SPAN class="gp">#</SPAN>       new file:   spec/spec.opts
<SPAN class="gp">#</SPAN>       new file:   spec/spec_helper.rb
<SPAN class="gp">#</SPAN>
<SPAN class="gp">$</SPAN> git commit -am <SPAN class="s2">"Added RSpec files"</SPAN>
</PRE></DIV>
</DIV>




<DIV class="label" id="sec:installing_autotest"></DIV>


<H4><A id="sec:3.2.1.2" href="http://www.railstutorial.org/chapters/static-pages#sec:installing_autotest" class="heading">Installing Autotest</A></H4>


<P>Although not strictly necessary for testing, I’ve found that the Autotest tool is extraordinarily valuable for test-driven development. Autotest (part of the <A href="http://www.zenspider.com/ZSS/Products/ZenTest/">ZenTest</A> suite) continuously runs your test suite in the background based on the specific file changes you make. The result is instant feedback on the status of your tests. We’ll learn more about Autotest when we see it in action (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:TDD">Section&nbsp;3.2.2</A>), but for now you should install it if you want to try it:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> <SPAN class="o">[</SPAN>sudo<SPAN class="o">]</SPAN> gem install autotest-rails -v 4.1.0
</PRE></DIV>
</DIV>


<P>The next steps depend on your platform. I’ll go through the steps for OS&nbsp;X, since that’s what I use, and then give references to blog posts that discuss Autotest on Linux and Windows. On OS&nbsp;X, you should <A href="http://growl.info/">install Growl</A> (if you don’t have it already) and then install the <CODE>autotest-fsevent</CODE> and <CODE>autotest-growl</CODE> gems:<SUP class="footnote" id="fnref:3.9"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.9">9</A></SUP></P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">#</SPAN> On OS X
<SPAN class="gp">$</SPAN> <SPAN class="o">[</SPAN>sudo<SPAN class="o">]</SPAN> gem install autotest-fsevent -v 0.1.1
<SPAN class="gp">$</SPAN> <SPAN class="o">[</SPAN>sudo<SPAN class="o">]</SPAN> gem install autotest-growl -v 0.2.0
</PRE></DIV>
</DIV>


<P>Then make an Autotest configuration file in your Rails root directory and fill it with the contents of <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:dot_autotest">Listing&nbsp;3.6</A>:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> mate .autotest
</PRE></DIV>
</DIV>


<P>(Note: this will create an Autotest configuration for the sample application only; if you want to share this Autotest configuration with other Rails or Ruby projects, you should create the <CODE>.autotest</CODE> file in your <EM>home</EM> directory instead:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> mate ~/.autotest
</PRE></DIV>
</DIV>


<P>where <TT class="verb">~</TT> (tilde) is the Unix symbol for “home directory”.)</P>

<DIV class="label" id="code:dot_autotest"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.6.</SPAN> <SPAN class="description">The <CODE>.autotest</CODE> configuration file for Autotest on OS&nbsp;X.</SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_8018bf2c3c754b18f35a36938eb5acf55d78f5b0">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=require%20%22autotest/growl%22%0Arequire%20%22autotest/fsevent%22%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=require%20%22autotest/growl%22%0Arequire%20%22autotest/fsevent%22%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nb">require</SPAN> <SPAN class="s2">"autotest/growl"</SPAN>
<SPAN class="nb">require</SPAN> <SPAN class="s2">"autotest/fsevent"</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>If you’re running Linux with the Gnome desktop, you should try the steps at <A href="http://automate-everything.com/2009/08/gnome-and-autospec-notifications/">Automate Everything</A>, which sets up on Linux a system similar to Growl notifications on OS&nbsp;X. Windows users should try installing <A href="http://www.growlforwindows.com/gfw/">Growl for Windows</A> and then follow the instructions at the <A href="http://github.com/svoop/autotest-growl">GitHub page for <CODE>autotest-growl</CODE></A>.</P>

<P>With that, we’re ready to get testing!</P>

<DIV class="label" id="sec:TDD"></DIV>


<H3><A id="sec:3.2.2" href="http://www.railstutorial.org/chapters/static-pages#sec:TDD" class="heading"><SPAN class="number">3.2.2</SPAN> TDD: Red, Green, Refactor</A></H3>


<P>In test-driven development, we first write a <EM>failing</EM> test: in our case, a piece of code that expresses the idea that there “should be an <CODE>about</CODE>” page. Then we get the test to pass, in our case by adding the <CODE>about</CODE> action and corresponding view. The reason we don’t typically do the reverse—implement first, then test—is to make sure that we actually test for the feature we’re adding. Before I started using TDD, I was amazed to discover how often my “tests” actually tested the wrong thing, or even tested nothing at all. By making sure that the test fails first and <EM>then</EM> passes, we can be more confident that the test is doing the right thing.</P>

<P>It’s important to understand that TDD is not always the right tool for the job. In particular, when you aren’t at all sure how to solve a given programming problem, it’s often useful to skip the tests and write only application code, just to get a sense of what the solution will look like. (In the language of <A href="http://en.wikipedia.org/wiki/Extreme_Programming">Extreme Programming (XP)</A>, this exploratory step is called a <EM>spike</EM>.) Once you see the general shape of the solution, you can then use TDD to implement a more polished version.</P>

<P>One way to proceed in test-driven development is a cycle known as “Red, Green, Refactor”. The first step, Red, refers to writing a failing test, which many test tools indicate with the color red. The next step, Green, refers to a passing test, indicated with the color (wait for it) green. Once we have a passing test (or set of tests), we are free to <EM>refactor</EM> our code, changing the form (eliminating duplication, for example) without changing the function.</P>

<P>We don’t have any colors yet, so let’s get started toward Red. RSpec (and testing in general) can be a little intimidating at first, so we’ll make use of the <CODE>generate rspec_controller</CODE> script to get ourselves started. It works just like the <CODE>generate controller</CODE> script we saw in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_with_rails">Section&nbsp;3.1.2</A>:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> script/generate rspec_controller Pages home contact
<SPAN class="go">      exists  app/controllers/</SPAN>
<SPAN class="go">      exists  app/helpers/</SPAN>
<SPAN class="go">      exists  app/views/pages</SPAN>
<SPAN class="go">      create  spec/controllers/</SPAN>
<SPAN class="go">      create  spec/helpers/</SPAN>
<SPAN class="go">      create  spec/views/pages</SPAN>
<SPAN class="go">      create  spec/controllers/pages_controller_spec.rb</SPAN>
<SPAN class="go">      create  spec/helpers/pages_helper_spec.rb</SPAN>
<SPAN class="go">   identical  app/controllers/pages_controller.rb</SPAN>
<SPAN class="go">   identical  app/helpers/pages_helper.rb</SPAN>
<SPAN class="go">      create  spec/views/pages/home.html.erb_spec.rb</SPAN>
<SPAN class="go">   identical  app/views/pages/home.html.erb</SPAN>
<SPAN class="go">      create  spec/views/pages/contact.html.erb_spec.rb</SPAN>
<SPAN class="go">   identical  app/views/pages/contact.html.erb</SPAN>
</PRE></DIV>
</DIV>


<P>Note that this step has created a directory called <CODE>spec</CODE> in our Rails root. This is to differentiate the RSpec tests from the ones that ship with Rails by default (using a framework called <TT>Test::Unit</TT>), which live in the <CODE>test</CODE> directory. Now that we are set up with RSpec, we won’t need that directory any longer, so it’s best to remove it:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> rm -rf <SPAN class="nb">test</SPAN>/
</PRE></DIV>
</DIV>


<P>In the output from <CODE>generate rspec_controller</CODE> above, you can see from lines like</P>

<PRE class="verbatim">   identical  app/controllers/pages_controller.rb</PRE>


<P>that this script does nothing to the files we created in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_with_rails">Section&nbsp;3.1.2</A>, but it would have created them if they didn’t already exist.</P>

<P>By the way, I’m not partial to separate tests for views, which I’ve found to be quite brittle, so let’s remove them, together with the rarely used helper spec:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> rm -rf spec/views
<SPAN class="gp">$</SPAN> rm -f spec/helpers/pages_helper_spec.rb
</PRE></DIV>
</DIV>


<P>We’ll handle tests for views and helpers directly in the controller tests starting in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:slightly_dynamic_pages">Section&nbsp;3.3</A>.</P>

<P>To get started with RSpec, take a look at the Pages controller spec<SUP class="footnote" id="fnref:3.10"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.10">10</A></SUP> we just generated (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:default_pages_controller_spec">Listing&nbsp;3.7</A>).</P>

<DIV class="label" id="code:default_pages_controller_spec"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.7.</SPAN> <SPAN class="description">The generated Pages controller spec. <BR> <CODE>spec/controllers/pages_controller_spec.rb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_3529386a2a5cc54b908aed9b2cb18e96c6a3c71d">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=require%20&#39;spec_helper&#39;%0A%0Adescribe%20PagesController%20do%0A%0A%20%20describe%20%22GET%20&#39;home&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;contact&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%20%20end%0Aend%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=require%20&#39;spec_helper&#39;%0A%0Adescribe%20PagesController%20do%0A%0A%20%20describe%20%22GET%20&#39;home&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;contact&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%20%20end%0Aend%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nb">require</SPAN> <SPAN class="s1">'spec_helper'</SPAN>

<SPAN class="n">describe</SPAN> <SPAN class="no">PagesController</SPAN> <SPAN class="k">do</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'home'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'home'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'contact'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'contact'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>(Here I’ve deleted one of the generated examples and just left the ones we’ll be using.)</P>

<P>This code is pure Ruby, but even if you’ve studied Ruby before it probably won’t look very familiar. This is because RSpec uses the general malleability of Ruby to define a <EM>domain-specific language</EM> (DSL) built just for testing. The important point is that <EM>you do not need to understand RSpec’s syntax to be able to use RSpec</EM>. It may seem like magic at first, but RSpec is designed to read more or less like English, and if you follow the examples from the <CODE>generate</CODE> script and the other examples in this tutorial you’ll pick it up fairly quickly.</P>

<P>Let’s focus on the first test to get a sense of what it does:</P>

<DIV class="code"><DIV class="highlight"><PRE>  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'home'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'home'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV>


<P>The first line indicates that we are describing a <TT>GET</TT> operation for the <CODE>home</CODE> action. This is just a description, and it can be anything you want; RSpec doesn’t care, but you and other human readers probably do. In this case, <TT>GET</TT> refers to one of the <EM>HTTP verbs</EM>, which are things that you can do with the hypertext transfer protocol (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sidebar:get_etc">Box&nbsp;3.1</A>).  Then the spec says that when you visit the home page, it should be successful. As with the first line, what goes inside the quote marks is irrelevant to RSpec, and is intended to be descriptive to human readers.</P>

<P>The third line, <CODE>get ’home’</CODE>, is the first line that really does something. Inside of RSpec, this line <EM>actually submits a GET request</EM>; in other words, it acts like a browser and hits a page, in this case <TT>/pages/home</TT>. (It knows to hit the Pages controller automatically because this is a Pages controller test; it knows to hit the home page because we tell it to explicitly.) Finally, the fourth line says that the <EM>response</EM> of our application should indicate success (i.e., it should return a <EM>status code</EM> of <TT>200</TT>; see <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sidebar:get_etc">Box&nbsp;3.1</A>).</P>

<DIV class="label" id="sidebar:get_etc"></DIV>


<DIV class="sidebar"><SPAN class="title"><SPAN class="header">Box 3.1.</SPAN><SPAN class="description"><TT>GET</TT>, et cet.</SPAN></SPAN>
<P>The hypertext transfer protocol (<A href="http://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol#Request_methods">HTTP</A>) defines four basic operations, corresponding to the four verbs <EM>get</EM>, <EM>post</EM>, <EM>put</EM>, and <EM>delete</EM>. These refer to operations between a <EM>client</EM> computer (typically running a web browser such as Firefox or Safari) and a <EM>server</EM> (typically running a web server such as Apache or Nginx). (It’s important to understand that, when developing Rails applications on a local computer, the client and server are the same physical machine, but in general they are different.) An emphasis on HTTP verbs is typical of web frameworks (including Rails) influenced by the <EM>REST architecture</EM>, which we’ll start learning about in <A class="ref" href="http://www.railstutorial.org/chapters/sign-up#top">Chapter&nbsp;8</A>.</P>

<P><TT>GET</TT> is the most common HTTP operation, used for <EM>reading</EM> data on the web; it just means “get a page”, and every time you visit a site like google.com or craigslist.org your browser is submitting a <TT>GET</TT> request. <TT>POST</TT> is the next most common operation; it is the request sent by your browser when you submit a form. In Rails applications, <TT>POST</TT> requests are typically used for <EM>creating</EM> things (although HTTP also allows <TT>POST</TT> to perform updates); for example, the <TT>POST</TT> request sent when you submit a registration form creates a new user on the remote site. The other two verbs, <TT>PUT</TT> and <TT>DELETE</TT>, are designed for <EM>updating</EM> and <EM>destroying</EM> things on the remote server. These requests are less common than <TT>GET</TT> and <TT>POST</TT> since browsers are incapable of sending them natively, but some web frameworks (including Ruby on Rails) have clever ways of making it <EM>seem</EM> like browsers are issuing such requests.</P>

<P>After the client sends a request, the server <EM>responds</EM> with a numerical code indicating the <A href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes">HTTP status</A> of the response. For example, a status code of <TT>200</TT> means “success”, and a status code of 301 means “permanent redirect”. If you <A href="http://www.google.com/search?q=install+curl">install <TT>curl</TT></A>, a command-line client that can issue HTTP requests, you can see this directly at, e.g., <TT>www.railstutorial.org</TT> (where the <TT class="verb">--head</TT> flag prevents <CODE>curl</CODE> from returning the whole page):</P>

<PRE class="verbatim">  $ curl --head www.railstutorial.org
  HTTP/1.1 200 OK
  .
  .
  .</PRE>


<P>Here the Rails Tutorial site indicates that the request was successful by returning the status <TT>200&nbsp;OK</TT>. In contrast, <TT>railstutorial.org</TT> is permanently redirected (to <TT>www.railstutorial.org</TT>, naturally), indicated by status code  <TT>301</TT> (a “<TT>301</TT> redirect”):</P>

<PRE class="verbatim">  $ curl --head railstutorial.org
  HTTP/1.1 301 Moved Permanently
  Location: http://www.railstutorial.org/
  .
  .
  .</PRE>


<P>When we write <CODE>response.should be_success</CODE> in an RSpec test, RSpec verifies that our application’s response to the request is status code&nbsp;<TT>200</TT>.</P>
</DIV>


<P>Now it’s time to run our tests. There are several different and mostly equivalent ways to do this.<SUP class="footnote" id="fnref:3.11"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.11">11</A></SUP> One way to run all the tests is to use the <CODE>spec</CODE> script at the command line as follows:<SUP class="footnote" id="fnref:3.12"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.12">12</A></SUP></P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> spec spec/
<SPAN class="go">....</SPAN>

<SPAN class="go">Finished in 0.183973 seconds</SPAN>

<SPAN class="go">2 examples, 0 failures</SPAN>
</PRE></DIV>
</DIV>


<P>(If any test fails, be sure that you’ve migrated the database with <CODE>rake db:migrate</CODE> as described in <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:script_server">Section&nbsp;1.2.5</A>.) In this command the first <CODE>spec</CODE> is a program provided by RSpec, while <CODE>spec/</CODE> is the <EM>directory</EM> whose specs you want to run. You can also run only the specs in a particular subdirectory. For example, this command runs only the controller specs:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> spec spec/controllers/
<SPAN class="go">....</SPAN>
<SPAN class="go">Finished in 0.18124 seconds</SPAN>

<SPAN class="go">2 examples, 0 failures</SPAN>
</PRE></DIV>
</DIV>


<P>You can also run a single file:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> spec spec/controllers/pages_controller_spec.rb
<SPAN class="go">....</SPAN>
<SPAN class="go">Finished in 0.18328 seconds</SPAN>

<SPAN class="go">2 examples, 0 failures</SPAN>
</PRE></DIV>
</DIV>


<P>The results of all three commands are the same since the Pages controller spec is currently our only test file. Throughout the rest of this book, I won’t usually show the output of running the tests, but you should run <CODE>spec spec/</CODE> (or one of its variants) regularly as you follow along—or, better yet, use Autotest to run the test suite automatically. Speaking of which…</P>

<P>If you’ve installed Autotest, you can run it on your RSpec tests as follows:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> autospec
</PRE></DIV>
</DIV>


<P>If you’re using a Mac with Growl notifications enabled, you should be able to replicate my setup, shown in <A class="ref" href="./application.html.erb_files/application.html.erb.htm">Figure&nbsp;3.5</A>. With Autotest running in the background and Growl notifications telling you the status of your tests, TDD can be positively addictive.</P>

<DIV class="label" id="fig:autotest_green"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/autotest_green.png" alt="autotest_green"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.5: </SPAN><SPAN class="description">Autotest (via <CODE>autospec</CODE>) in action, with a Growl notification.&nbsp;<A href="http://www.railstutorial.org/images/figures/autotest_green-full.png">(full size)</A></SPAN></DIV></DIV>




<DIV class="label" id="sec:red"></DIV>


<H4><A id="sec:3.2.2.1" href="http://www.railstutorial.org/chapters/static-pages#sec:red" class="heading">Red</A></H4>


<P>Now let’s get to Red part of the Red-Green cycle by writing a failing test for the <CODE>about</CODE> page. Following the models from <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:default_pages_controller_spec">Listing&nbsp;3.7</A>, you can probably guess the right test (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:failing_about_page">Listing&nbsp;3.8</A>).</P>

<DIV class="label" id="code:failing_about_page"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.8.</SPAN></DIV>


The Pages controller spec with a failing test for the About page. <BR>
<CODE>spec/controllers/pages_controller_spec.rb</CODE>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nb">require</SPAN> <SPAN class="s1">'spec_helper'</SPAN>

<SPAN class="n">describe</SPAN> <SPAN class="no">PagesController</SPAN> <SPAN class="k">do</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'home'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'home'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'contact'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'contact'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'about'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'about'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>The new test attempts to <CODE>get</CODE> the <CODE>about</CODE> action, and indicates that the resulting response should be a success. By design, it fails (with a red error message), as seen in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:spec_spec_red">Figure&nbsp;3.6</A> (<CODE>spec spec/</CODE>) and <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:autotest_red">Figure&nbsp;3.7</A> (<CODE>autospec</CODE>). (If by some chance the test passes, be sure to remove the file <CODE>app/views/pages/about.html.erb</CODE> if there is one.  In general, if <CODE>foo.html.erb</CODE> exists, Rails will still respond to the <CODE>foo</CODE> action, even if it’s not defined explicitly in the controller.)</P>

<DIV class="label" id="fig:spec_spec_red"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/spec_spec_red.png" alt="spec_spec_red"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.6: </SPAN><SPAN class="description">Failing spec for the About page using <CODE>spec spec/</CODE>.&nbsp;<A href="http://www.railstutorial.org/images/figures/spec_spec_red-full.png">(full size)</A></SPAN></DIV></DIV>




<DIV class="label" id="fig:autotest_red"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/autotest_red.png" alt="autotest_red"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.7: </SPAN><SPAN class="description">Failing spec for the About page using Autotest.&nbsp;<A href="http://www.railstutorial.org/images/figures/autotest_red-full.png">(full size)</A></SPAN></DIV></DIV>


<P>This is Red. Now let’s get to Green.</P>

<DIV class="label" id="sec:green"></DIV>


<H4><A id="sec:3.2.2.2" href="http://www.railstutorial.org/chapters/static-pages#sec:green" class="heading">Green</A></H4>


<P>Recall from <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_with_rails">Section&nbsp;3.1.2</A> that we can generate a static page in Rails by creating an action and corresponding view with the page’s name. In our case, the About page will first need an action called <CODE>about</CODE> in the Pages controller. Having written a failing test, we can now be confident that, in getting it to pass, we will actually have created a working <CODE>about</CODE> page.</P>

<P>Following the models provided by <CODE>home</CODE> and <CODE>contact</CODE> from <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:pages_controller">Listing&nbsp;3.3</A>, let’s first add an <CODE>about</CODE> action in the Pages controller (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:adding_the_about_page">Listing&nbsp;3.9</A>).</P>

<DIV class="label" id="code:adding_the_about_page"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.9.</SPAN> <SPAN class="description">The Pages controller with added <CODE>about</CODE> action. <BR> <CODE>app/controllers/pages_controller.rb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_d6f17183511f575dbd132ceab2c727317298bf95">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=class%20PagesController%20%3C%20ApplicationController%0A%0A%20%20def%20home%0A%20%20end%0A%0A%20%20def%20contact%0A%20%20end%0A%0A%20%20def%20about%0A%20%20end%0Aend%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=class%20PagesController%20%3C%20ApplicationController%0A%0A%20%20def%20home%0A%20%20end%0A%0A%20%20def%20contact%0A%20%20end%0A%0A%20%20def%20about%0A%20%20end%0Aend%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="k">class</SPAN> <SPAN class="nc">PagesController</SPAN> <SPAN class="o">&lt;</SPAN> <SPAN class="no">ApplicationController</SPAN>

  <SPAN class="k">def</SPAN> <SPAN class="nf">home</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="k">def</SPAN> <SPAN class="nf">contact</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="k">def</SPAN> <SPAN class="nf">about</SPAN>
  <SPAN class="k">end</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>Next we add the corresponding view. Eventually we’ll fill it with something more informative, but for now we’ll just mimic the content from the generated views (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:raw_home_view">Listing&nbsp;3.4</A> and <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:raw_contact_view">Listing&nbsp;3.5</A>) for the <CODE>about</CODE> view (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:raw_about_view">Listing&nbsp;3.10</A>).</P>

<DIV class="label" id="code:raw_about_view"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.10.</SPAN> <SPAN class="description">A stub About page. <BR> <CODE>app/views/pages/about.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_51e72d5871d495eb3930c16a4e33f28ef534ef33">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3Ch1%3EPages%23about%3C/h1%3E%0A%3Cp%3EFind%20me%20in%20app/views/pages/about.html.erb%3C/p%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3Ch1%3EPages%23about%3C/h1%3E%0A%3Cp%3EFind%20me%20in%20app/views/pages/about.html.erb%3C/p%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;h1&gt;</SPAN>Pages#about<SPAN class="nt">&lt;/h1&gt;</SPAN>
<SPAN class="nt">&lt;p&gt;</SPAN>Find me in app/views/pages/about.html.erb<SPAN class="nt">&lt;/p&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>Running the specs or watching the update from Autotest (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:autotest_back_to_green">Figure&nbsp;3.8</A>) should get us back to Green:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> spec spec/
</PRE></DIV>
</DIV>


<DIV class="label" id="fig:autotest_back_to_green"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/autotest_back_to_green.png" alt="autotest_back_to_green"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.8: </SPAN><SPAN class="description">Autotest back to Green: all tests passing.&nbsp;<A href="http://www.railstutorial.org/images/figures/autotest_back_to_green-full.png">(full size)</A></SPAN></DIV></DIV>


<P>Of course, it’s never a bad idea to take a look at the page in a browser to make sure our tests aren’t completely crazy (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:raw_about_page">Figure&nbsp;3.9</A>).</P>

<DIV class="label" id="fig:raw_about_page"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/raw_about_page.png" alt="raw_about_page"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.9: </SPAN><SPAN class="description">The new (and rather raw) About page (<A href="http://localhost:3000/pages/about"><TT>/pages/about</TT></A>).&nbsp;<A href="http://www.railstutorial.org/images/figures/raw_about_page-full.png">(full size)</A></SPAN></DIV></DIV>




<DIV class="label" id="sec:refactor"></DIV>


<H4><A id="sec:3.2.2.3" href="http://www.railstutorial.org/chapters/static-pages#sec:refactor" class="heading">Refactor</A></H4>


<P>Now that we’re at Green, we are free to <EM>refactor</EM> our code by changing its form without changing its function. Oftentimes code will start to “smell”, meaning that it gets ugly, bloated, or filled with repetition.  The computer doesn’t care, of course, but humans do, so it is important to keep the code base clean by refactoring frequently. Having a good (passing!) test suite is an invaluable tool in this regard, as it dramatically lowers the probability of introducing bugs while refactoring.</P>

<P>Our sample app is a little too small to refactor right now, but code smell seeps in at every crack, so we won’t have to wait long: we’ll already get busy refactoring in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:instance_variables_embedded_ruby">Section&nbsp;3.3.3</A> of this chapter.</P>

<DIV class="label" id="sec:slightly_dynamic_pages"></DIV>


<H2><A id="sec:3.3" href="http://www.railstutorial.org/chapters/static-pages#sec:slightly_dynamic_pages" class="heading"><SPAN class="number">3.3</SPAN> Slightly dynamic pages</A></H2>


<P>Now that we’ve created the actions and views for some static pages, we’ll make them <EM>very slightly</EM> dynamic by adding some content that changes on a per-page basis: we’ll have the title of each page change to reflect its content. Whether this represents <EM>truly</EM> dynamic content is debatable, but in any case it lays the necessary foundation for unambiguously dynamic content in <A class="ref" href="http://www.railstutorial.org/chapters/sign-up#top">Chapter&nbsp;8</A>.</P>

<P>(If you skipped the TDD material in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:first_tests">Section&nbsp;3.2</A>, be sure to create an About page at this point using the code from <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:adding_the_about_page">Listing&nbsp;3.9</A> and <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:raw_about_view">Listing&nbsp;3.10</A>.)</P>

<DIV class="label" id="sec:testing_a_title_change"></DIV>


<H3><A id="sec:3.3.1" href="http://www.railstutorial.org/chapters/static-pages#sec:testing_a_title_change" class="heading"><SPAN class="number">3.3.1</SPAN> Testing a title change</A></H3>


<P>Our plan is to edit the Home, Contact, and About pages to add the kind of HTML structure we saw in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:hello_world">Listing&nbsp;3.1</A>, including titles that change on each page. It’s a delicate matter to decide just which of these changes to test, and in general testing HTML can be quite fragile since content tends to change frequently. We’ll keep our tests simple by just testing for the page titles.</P>

<DIV class="label" id="table:static_pages"></DIV>


<DIV class="table"><DIV class="center"><TABLE class="tabular"><TBODY><TR><TH class="align_center"><STRONG>Page</STRONG></TH><TH class="align_left"><STRONG>URL</STRONG></TH><TH class="align_left"><STRONG>Base title</STRONG></TH><TH class="align_left"><STRONG>Variable title</STRONG></TH></TR><TR class="top_bar"><TD class="align_center">Home</TD><TD class="align_left"><TT>/pages/home</TT></TD><TD class="align_left"><CODE>"Ruby on Rails Tutorial Sample App"</CODE></TD><TD class="align_left"><CODE>" | Home"</CODE></TD></TR><TR><TD class="align_center">Contact</TD><TD class="align_left"><TT>/pages/contact</TT></TD><TD class="align_left"><CODE>"Ruby on Rails Tutorial Sample App"</CODE></TD><TD class="align_left"><CODE>" | Contact"</CODE></TD></TR><TR><TD class="align_center">About</TD><TD class="align_left"><TT>/pages/about</TT></TD><TD class="align_left"><CODE>"Ruby on Rails Tutorial Sample App"</CODE></TD><TD class="align_left"><CODE>" | About"</CODE></TD></TR></TBODY></TABLE></DIV><DIV class="caption"><SPAN class="header">Table 3.1: </SPAN><SPAN class="description">The (mostly) static pages for the sample app.</SPAN></DIV></DIV>


<P>By the end of this section, all three of our static pages will have titles of the form “Ruby on Rails Tutorial Sample App | Home”, where the last part of the title will vary depending on the page (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#table:static_pages">Table&nbsp;3.1</A>). We’ll build on the tests in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:failing_about_page">Listing&nbsp;3.8</A>, adding title tests following the model in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:title_test">Listing&nbsp;3.11</A>.</P>

<DIV class="label" id="code:title_test"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.11.</SPAN> <SPAN class="description">A title test.</SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_235256537252a850d521bd0300480b5f3f516181">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20get%20&#39;home&#39;%0A%20%20response.should%20have_tag(%22title%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ruby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Home%22)%0Aend%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20get%20&#39;home&#39;%0A%20%20response.should%20have_tag(%22title%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ruby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Home%22)%0Aend%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="n">it</SPAN> <SPAN class="s2">"should have the right title"</SPAN> <SPAN class="k">do</SPAN>
  <SPAN class="n">get</SPAN> <SPAN class="s1">'home'</SPAN>
  <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">have_tag</SPAN><SPAN class="p">(</SPAN><SPAN class="s2">"title"</SPAN><SPAN class="p">,</SPAN>
                           <SPAN class="s2">"Ruby on Rails Tutorial Sample App | Home"</SPAN><SPAN class="p">)</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>This uses the <CODE>have_tag</CODE> method inside RSpec; the documentation for <CODE>have_tag</CODE> is surprisingly sparse, but what it does is not surprising at all: the code</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">have_tag</SPAN><SPAN class="p">(</SPAN><SPAN class="s2">"title"</SPAN><SPAN class="p">,</SPAN>
                         <SPAN class="s2">"Ruby on Rails Tutorial Sample App | Home"</SPAN><SPAN class="p">)</SPAN>
</PRE></DIV>
</DIV>


<P>checks to see that the material inside the <TT class="verb">&lt;title&gt;&lt;/title&gt;</TT> tags is <CODE>"Ruby on Rails Tutorial Sample App | Home"</CODE>. Note that I’ve broken the material inside <CODE>have_tag</CODE> into two lines; this tells you something important about Ruby syntax: Ruby doesn’t care about newlines.<SUP class="footnote" id="fnref:3.13"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.13">13</A></SUP> The <EM>reason</EM> I chose to break the code into pieces is that I prefer to keep lines of source code under 80 characters for legibility.<SUP class="footnote" id="fnref:3.14"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.14">14</A></SUP></P>

<P>Adding new tests for each of our three static pages following the model of <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:title_test">Listing&nbsp;3.11</A> gives us our new Pages controller spec (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:pages_controller_spec_title">Listing&nbsp;3.12</A>).</P>

<DIV class="label" id="code:pages_controller_spec_title"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.12.</SPAN> <SPAN class="description">The Pages controller spec with title tests. <BR> <CODE>spec/controllers/pages_controller_spec.rb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_cb5ed6364a21762aeb82e75e159370a9e67dd78b">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=require%20&#39;spec_helper&#39;%0A%0Adescribe%20PagesController%20do%0A%20%20integrate_views%0A%0A%20%20describe%20%22GET%20&#39;home&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ruby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Home%22)%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;contact&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ruby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Contact%22)%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;about&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;about&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;about&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ruby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20About%22)%0A%20%20%20%20end%0A%20%20end%0Aend%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=require%20&#39;spec_helper&#39;%0A%0Adescribe%20PagesController%20do%0A%20%20integrate_views%0A%0A%20%20describe%20%22GET%20&#39;home&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ruby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Home%22)%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;contact&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ruby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Contact%22)%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;about&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;about&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;about&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Ruby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20About%22)%0A%20%20%20%20end%0A%20%20end%0Aend%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nb">require</SPAN> <SPAN class="s1">'spec_helper'</SPAN>

<SPAN class="n">describe</SPAN> <SPAN class="no">PagesController</SPAN> <SPAN class="k">do</SPAN>
  <SPAN class="n">integrate_views</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'home'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'home'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>

    <SPAN class="n">it</SPAN> <SPAN class="s2">"should have the right title"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'home'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">have_tag</SPAN><SPAN class="p">(</SPAN><SPAN class="s2">"title"</SPAN><SPAN class="p">,</SPAN>
                               <SPAN class="s2">"Ruby on Rails Tutorial Sample App | Home"</SPAN><SPAN class="p">)</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'contact'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'contact'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>

    <SPAN class="n">it</SPAN> <SPAN class="s2">"should have the right title"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'contact'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">have_tag</SPAN><SPAN class="p">(</SPAN><SPAN class="s2">"title"</SPAN><SPAN class="p">,</SPAN>
                               <SPAN class="s2">"Ruby on Rails Tutorial Sample App | Contact"</SPAN><SPAN class="p">)</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'about'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'about'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>

    <SPAN class="n">it</SPAN> <SPAN class="s2">"should have the right title"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'about'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">have_tag</SPAN><SPAN class="p">(</SPAN><SPAN class="s2">"title"</SPAN><SPAN class="p">,</SPAN>
                               <SPAN class="s2">"Ruby on Rails Tutorial Sample App | About"</SPAN><SPAN class="p">)</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>There is one crucial line here that needs emphasis: we are now testing our views inside a controller test, which means we must tell RSpec to <EM>integrate the views</EM>. In other words, by default RSpec just tests actions inside a controller test; if we want it also to render the views, we have to tell it explicitly via the second line:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="n">describe</SPAN> <SPAN class="no">PagesController</SPAN> <SPAN class="k">do</SPAN>
  <SPAN class="n">integrate_views</SPAN>

  <SPAN class="o">.</SPAN>
  <SPAN class="o">.</SPAN>
  <SPAN class="o">.</SPAN>
</PRE></DIV>
</DIV>


<P>With these tests in place, you should run</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> spec spec/
</PRE></DIV>
</DIV>


<P>or use Autotest to verify that our code is now Red (failing tests).</P>

<DIV class="label" id="sec:passing_title_tests"></DIV>


<H3><A id="sec:3.3.2" href="http://www.railstutorial.org/chapters/static-pages#sec:passing_title_tests" class="heading"><SPAN class="number">3.3.2</SPAN> Passing title tests</A></H3>


<P>Now we’ll get our title tests to pass, and at the same time add the full HTML structure needed to make valid web pages. (If you were very observant, you might have noticed the red&nbsp;X in the bottom corner of default Home page shown in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:raw_about_page">Figure&nbsp;3.9</A>; this is the HTML Validator telling us we have a problem, which we’ll fix in this section.) Let’s start with the Home page (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:home_view_full_html">Listing&nbsp;3.13</A>), using the same basic HTML skeleton as in the “hello” page from <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:hello_world">Listing&nbsp;3.1</A>; we’ve just added one more element, a series of arguments inside the <CODE>html</CODE> tag giving more information about the language on the page (<CODE>en</CODE> for “English”) and the <A href="http://en.wikipedia.org/wiki/XML_namespace">XML namespace (<CODE>xmlns</CODE>)</A>.<SUP class="footnote" id="fnref:3.15"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.15">15</A></SUP></P>

<DIV class="label" id="code:home_view_full_html"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.13.</SPAN> <SPAN class="description">The view for the Home page with full HTML structure. <BR> <CODE>app/views/pages/home.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_cc0c26fe0ec0238759a5adf4a0c0ef35204dcce1">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Home%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3ESample%20App%20Home%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20This%20is%20the%20home%20page%20for%20the%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20%20%20%20%20sample%20application.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Home%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3ESample%20App%20Home%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20This%20is%20the%20home%20page%20for%20the%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20%20%20%20%20sample%20application.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html</SPAN> <SPAN class="na">lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xml:lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xmlns=</SPAN><SPAN class="s">"http://www.w3.org/1999/xhtml"</SPAN><SPAN class="nt">&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | Home<SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
    <SPAN class="nt">&lt;h1&gt;</SPAN>Sample App Home<SPAN class="nt">&lt;/h1&gt;</SPAN>
    <SPAN class="nt">&lt;p&gt;</SPAN>
      This is the home page for the
      <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails Tutorial<SPAN class="nt">&lt;/a&gt;</SPAN>
      sample application.
    <SPAN class="nt">&lt;/p&gt;</SPAN>
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P><A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:home_view_full_html">Listing&nbsp;3.13</A> uses the title tested for in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:pages_controller_spec_title">Listing&nbsp;3.12</A>:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | Home<SPAN class="nt">&lt;/title&gt;</SPAN>
</PRE></DIV>
</DIV>


<P>As a result, the tests for the Home page should now pass. We’re still Red because of the failing Contact and About tests, and we can get to Green with the code in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:contact_view_full_html">Listing&nbsp;3.14</A> and <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:about_view_full_html">Listing&nbsp;3.15</A>.</P>

<DIV class="label" id="code:contact_view_full_html"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.14.</SPAN> <SPAN class="description">The view for the Contact page with full HTML structure. <BR> <CODE>app/views/pages/contact.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_2df8d3eec4a3f1ef2c785e710d977cf1614d12d7">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Contact%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3EContact%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20Contact%20Ruby%20on%20Rails%20Tutorial%20about%20the%20sample%20app%20at%20the%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/feedback%22%3Efeedback%20page%3C/a%3E.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20Contact%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3EContact%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20Contact%20Ruby%20on%20Rails%20Tutorial%20about%20the%20sample%20app%20at%20the%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/feedback%22%3Efeedback%20page%3C/a%3E.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html</SPAN> <SPAN class="na">lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xml:lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xmlns=</SPAN><SPAN class="s">"http://www.w3.org/1999/xhtml"</SPAN><SPAN class="nt">&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | Contact<SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
    <SPAN class="nt">&lt;h1&gt;</SPAN>Contact<SPAN class="nt">&lt;/h1&gt;</SPAN>
    <SPAN class="nt">&lt;p&gt;</SPAN>
      Contact Ruby on Rails Tutorial about the sample app at the
      <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/feedback"</SPAN><SPAN class="nt">&gt;</SPAN>feedback page<SPAN class="nt">&lt;/a&gt;</SPAN>.
    <SPAN class="nt">&lt;/p&gt;</SPAN>
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>




<DIV class="label" id="code:about_view_full_html"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.15.</SPAN> <SPAN class="description">The view for the About page with full HTML structure. <BR> <CODE>app/views/pages/about.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_44db3de70ac0d8cc3571e1c01707f405045edff4">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20About%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAbout%20Us%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20%20%20%20%20is%20a%20project%20to%20make%20a%20book%20and%20screencasts%20to%20teach%20web%20development%0A%20%20%20%20%20%20with%20%3Ca%20href=%22http://rubyonrails.org/%22%3ERuby%20on%20Rails%3C/a%3E.%20This%0A%20%20%20%20%20%20is%20the%20sample%20application%20for%20the%20tutorial.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20About%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAbout%20Us%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20%20%20%20%20is%20a%20project%20to%20make%20a%20book%20and%20screencasts%20to%20teach%20web%20development%0A%20%20%20%20%20%20with%20%3Ca%20href=%22http://rubyonrails.org/%22%3ERuby%20on%20Rails%3C/a%3E.%20This%0A%20%20%20%20%20%20is%20the%20sample%20application%20for%20the%20tutorial.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html</SPAN> <SPAN class="na">lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xml:lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xmlns=</SPAN><SPAN class="s">"http://www.w3.org/1999/xhtml"</SPAN><SPAN class="nt">&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | About<SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
    <SPAN class="nt">&lt;h1&gt;</SPAN>About Us<SPAN class="nt">&lt;/h1&gt;</SPAN>
    <SPAN class="nt">&lt;p&gt;</SPAN>
      <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails Tutorial<SPAN class="nt">&lt;/a&gt;</SPAN>
      is a project to make a book and screencasts to teach web development
      with <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://rubyonrails.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails<SPAN class="nt">&lt;/a&gt;</SPAN>. This
      is the sample application for the tutorial.
    <SPAN class="nt">&lt;/p&gt;</SPAN>
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>These example pages introduce the <EM>anchor</EM> tag&nbsp;<CODE>a</CODE>, which creates links to the given URL (called an “href”, or “hypertext reference”, in the context of an anchor tag):</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails Tutorial<SPAN class="nt">&lt;/a&gt;</SPAN>
</PRE></DIV>
</DIV>


<P>You can see the results in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#fig:new_home_page">Figure&nbsp;3.10</A>. Note the green checkmark at the lower right of the figure, indicating that the pages are now valid HTML.</P>

<DIV class="label" id="fig:new_home_page"></DIV>


<DIV class="figure"><DIV class="center"><SPAN class="graphic"><IMG src="./application.html.erb_files/new_home_page.png" alt="new_home_page"></SPAN></DIV><DIV class="caption"><SPAN class="header">Figure 3.10: </SPAN><SPAN class="description">A minimal Home page for the sample app (<A href="http://localhost:3000/pages/home"><TT>/pages/home</TT></A>).&nbsp;<A href="http://www.railstutorial.org/images/figures/new_home_page-full.png">(full size)</A></SPAN></DIV></DIV>




<DIV class="label" id="sec:instance_variables_embedded_ruby"></DIV>


<H3><A id="sec:3.3.3" href="http://www.railstutorial.org/chapters/static-pages#sec:instance_variables_embedded_ruby" class="heading"><SPAN class="number">3.3.3</SPAN> Instance variables and Embedded Ruby</A></H3>


<P>We’ve achieved a lot already in this section, generating three valid pages using Rails controllers and actions, but they are purely static HTML and hence don’t show off the power of Rails. Moreover, they suffer from terrible duplication:</P>

<UL>
<LI>The page titles are almost (but not quite) exactly the same.</LI>
<LI>“Ruby on Rails Tutorial Sample App” is common to all three titles.</LI>
<LI>The entire HTML skeleton structure is repeated on each page.</LI>
</UL>


<P>Paradoxically, we’ll take the first step toward eliminating duplication by first adding some more: we’ll make the titles of the pages, which are currently quite similar, match <EM>exactly</EM>. This will make it much simpler to remove all the repetition at a stroke.</P>

<P>The technique involves creating <EM>instance variables</EM> inside our actions. Since the Home, Contact, and About page titles have a variable component, we’ll set the variable <CODE>@title</CODE> (pronounced “at title”) to the appropriate title for each action (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:pages_controller_with_title">Listing&nbsp;3.16</A>).</P>

<DIV class="label" id="code:pages_controller_with_title"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.16.</SPAN> <SPAN class="description">The Pages controller with per-page titles. <BR> <CODE>app/controllers/pages_controller.rb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_eb5bbe57f27bdf3ab199f1639a5b8a1e947e407d">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=class%20PagesController%20%3C%20ApplicationController%0A%0A%20%20def%20home%0A%20%20%20%20@title%20=%20%22Home%22%0A%20%20end%0A%0A%20%20def%20contact%0A%20%20%20%20@title%20=%20%22Contact%22%0A%20%20end%0A%0A%20%20def%20about%0A%20%20%20%20@title%20=%20%22About%22%0A%20%20end%0Aend%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=class%20PagesController%20%3C%20ApplicationController%0A%0A%20%20def%20home%0A%20%20%20%20@title%20=%20%22Home%22%0A%20%20end%0A%0A%20%20def%20contact%0A%20%20%20%20@title%20=%20%22Contact%22%0A%20%20end%0A%0A%20%20def%20about%0A%20%20%20%20@title%20=%20%22About%22%0A%20%20end%0Aend%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="k">class</SPAN> <SPAN class="nc">PagesController</SPAN> <SPAN class="o">&lt;</SPAN> <SPAN class="no">ApplicationController</SPAN>

  <SPAN class="k">def</SPAN> <SPAN class="nf">home</SPAN>
    <SPAN class="vi">@title</SPAN> <SPAN class="o">=</SPAN> <SPAN class="s2">"Home"</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="k">def</SPAN> <SPAN class="nf">contact</SPAN>
    <SPAN class="vi">@title</SPAN> <SPAN class="o">=</SPAN> <SPAN class="s2">"Contact"</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="k">def</SPAN> <SPAN class="nf">about</SPAN>
    <SPAN class="vi">@title</SPAN> <SPAN class="o">=</SPAN> <SPAN class="s2">"About"</SPAN>
  <SPAN class="k">end</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>A statement such as</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="vi">@title</SPAN> <SPAN class="o">=</SPAN> <SPAN class="s2">"Home"</SPAN>
</PRE></DIV>
</DIV>


<P>is an <EM>assignment</EM>, in this case creating a new variable <CODE>@title</CODE> with value <CODE>"Home"</CODE>. The at sign&nbsp;<CODE>@</CODE> in <CODE>@title</CODE> indicates that it is an instance variable. Instance variables have a more general meaning in Ruby (see <A class="ref" href="http://www.railstutorial.org/chapters/rails-flavored-ruby#sec:objects_and_message_passing">Section&nbsp;4.2.3</A>), but in Rails their role is primarily to link actions and views: any instance variable defined in the <CODE>home</CODE> action is automatically available in the <CODE>home.html.erb</CODE> view, and so on for other action/view pairs.<SUP class="footnote" id="fnref:3.16"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.16">16</A></SUP></P>

<P>We can see how this works by replacing the literal title “Home” with the contents of the <CODE>@title</CODE> variable in the <CODE>home.html.erb</CODE> view (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:home_view_erb_title">Listing&nbsp;3.17</A>).</P>

<DIV class="label" id="code:home_view_erb_title"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.17.</SPAN> <SPAN class="description">The view for the Home page with an Embedded Ruby title. <BR> <CODE>app/views/pages/home.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_b8c478f8351b82f4379b45d3a52d66c4a5a9978c">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20%3C%25=%20@title%20%25%3E%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3ESample%20App%20Home%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20This%20is%20the%20home%20page%20for%20the%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20%20%20%20%20sample%20application.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20%3C%25=%20@title%20%25%3E%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3ESample%20App%20Home%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20This%20is%20the%20home%20page%20for%20the%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20%20%20%20%20sample%20application.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html</SPAN> <SPAN class="na">lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xml:lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xmlns=</SPAN><SPAN class="s">"http://www.w3.org/1999/xhtml"</SPAN><SPAN class="nt">&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | <SPAN class="cp">&lt;%=</SPAN> <SPAN class="vi">@title</SPAN> <SPAN class="cp">%&gt;</SPAN><SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
    <SPAN class="nt">&lt;h1&gt;</SPAN>Sample App Home<SPAN class="nt">&lt;/h1&gt;</SPAN>
    <SPAN class="nt">&lt;p&gt;</SPAN>
      This is the home page for the
      <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails Tutorial<SPAN class="nt">&lt;/a&gt;</SPAN>
      sample application.
    <SPAN class="nt">&lt;/p&gt;</SPAN>
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P><A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:home_view_erb_title">Listing&nbsp;3.17</A> is our first example of <EM>Embedded Ruby</EM>, also called <EM>ERb</EM>. (Now you know why HTML views have with the file extension <CODE>.html.erb</CODE>.) ERb is the primary mechanism in Rails for including dynamic content in web pages.<SUP class="footnote" id="fnref:3.17"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.17">17</A></SUP> The code</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;%=</SPAN> <SPAN class="vi">@title</SPAN> <SPAN class="cp">%&gt;</SPAN>
</PRE></DIV>
</DIV>


<P>indicates using <TT class="verb">&lt;%= ... %&gt;</TT> that Rails should insert the contents of the <CODE>@title</CODE> variable, whatever it may be. When we visit <TT>/pages/home</TT>, Rails executes the body of the <CODE>home</CODE> action, which makes the assignment <CODE>@title = "Home"</CODE>, so in the present case</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;%=</SPAN> <SPAN class="vi">@title</SPAN> <SPAN class="cp">%&gt;</SPAN>
</PRE></DIV>
</DIV>


<P>gets replaced with “Home”. Rails then renders the view, using ERb to insert the value of <CODE>@title</CODE> into the template, which the web server then sends to your browser as HTML. The result is exactly the same as before, only now the variable part of the title is generated dynamically by ERb.</P>

<P>We can verify that all this works by running the tests from <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:testing_a_title_change">Section&nbsp;3.3.1</A> and see that they still pass. Then we can make the corresponding replacements for the Contact and About pages (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:contact_view_erb_title">Listing&nbsp;3.18</A> and <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:about_view_erb_title">Listing&nbsp;3.19</A>).</P>

<DIV class="label" id="code:contact_view_erb_title"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.18.</SPAN> <SPAN class="description">The view for the Contact page with an Embedded Ruby title. <BR> <CODE>app/views/pages/contact.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_6022d86a89f4d747f128d950239ecc867cb57287">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20%3C%25=%20@title%20%25%3E%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3EContact%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20Contact%20Ruby%20on%20Rails%20Tutorial%20about%20the%20sample%20app%20at%20the%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/feedback%22%3Efeedback%20page%3C/a%3E.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20%3C%25=%20@title%20%25%3E%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3EContact%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20Contact%20Ruby%20on%20Rails%20Tutorial%20about%20the%20sample%20app%20at%20the%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/feedback%22%3Efeedback%20page%3C/a%3E.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html</SPAN> <SPAN class="na">lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xml:lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xmlns=</SPAN><SPAN class="s">"http://www.w3.org/1999/xhtml"</SPAN><SPAN class="nt">&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | <SPAN class="cp">&lt;%=</SPAN> <SPAN class="vi">@title</SPAN> <SPAN class="cp">%&gt;</SPAN><SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
    <SPAN class="nt">&lt;h1&gt;</SPAN>Contact<SPAN class="nt">&lt;/h1&gt;</SPAN>
    <SPAN class="nt">&lt;p&gt;</SPAN>
      Contact Ruby on Rails Tutorial about the sample app at the
      <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/feedback"</SPAN><SPAN class="nt">&gt;</SPAN>feedback page<SPAN class="nt">&lt;/a&gt;</SPAN>.
    <SPAN class="nt">&lt;/p&gt;</SPAN>
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>




<DIV class="label" id="code:about_view_erb_title"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.19.</SPAN> <SPAN class="description">The view for the About page with an Embedded Ruby title. <BR> <CODE>app/views/pages/about.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_623455c7bb94c8d0564f04448d643759c4fed304">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20%3C%25=%20@title%20%25%3E%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAbout%20Us%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20%20%20%20%20is%20a%20project%20to%20make%20a%20book%20and%20screencasts%20to%20teach%20web%20development%0A%20%20%20%20%20%20with%20%3Ca%20href=%22http://rubyonrails.org/%22%3ERuby%20on%20Rails%3C/a%3E.%20This%0A%20%20%20%20%20%20is%20the%20sample%20application%20for%20the%20tutorial.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20%3C%25=%20@title%20%25%3E%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAbout%20Us%3C/h1%3E%0A%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20%20%20%20%20is%20a%20project%20to%20make%20a%20book%20and%20screencasts%20to%20teach%20web%20development%0A%20%20%20%20%20%20with%20%3Ca%20href=%22http://rubyonrails.org/%22%3ERuby%20on%20Rails%3C/a%3E.%20This%0A%20%20%20%20%20%20is%20the%20sample%20application%20for%20the%20tutorial.%0A%20%20%20%20%3C/p%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html</SPAN> <SPAN class="na">lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xml:lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xmlns=</SPAN><SPAN class="s">"http://www.w3.org/1999/xhtml"</SPAN><SPAN class="nt">&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | <SPAN class="cp">&lt;%=</SPAN> <SPAN class="vi">@title</SPAN> <SPAN class="cp">%&gt;</SPAN><SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
    <SPAN class="nt">&lt;h1&gt;</SPAN>About Us<SPAN class="nt">&lt;/h1&gt;</SPAN>
    <SPAN class="nt">&lt;p&gt;</SPAN>
      <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails Tutorial<SPAN class="nt">&lt;/a&gt;</SPAN>
      is a project to make a book and screencasts to teach web development
      with <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://rubyonrails.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails<SPAN class="nt">&lt;/a&gt;</SPAN>. This
      is the sample application for the tutorial.
    <SPAN class="nt">&lt;/p&gt;</SPAN>
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>As before, the tests still pass.</P>

<DIV class="label" id="sec:layouts"></DIV>


<H3><A id="sec:3.3.4" href="http://www.railstutorial.org/chapters/static-pages#sec:layouts" class="heading"><SPAN class="number">3.3.4</SPAN> Eliminating duplication with layouts</A></H3>


<P>Now that we’ve replaced the variable part of the page titles with instance variables and ERb, each of our pages looks something like this:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html</SPAN> <SPAN class="na">lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xml:lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xmlns=</SPAN><SPAN class="s">"http://www.w3.org/1999/xhtml"</SPAN><SPAN class="nt">&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | <SPAN class="cp">&lt;%=</SPAN> <SPAN class="vi">@title</SPAN> <SPAN class="cp">%&gt;</SPAN><SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
      Contents
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV>


<P>In other words, <EM>all</EM> our pages are identical in structure, including even the title (because of Embedded Ruby), with the sole exception of the contents of each page.</P>

<P>Wouldn’t it be nice if there were a way to factor out the common elements into some sort of global layout, with the body contents inserted on a per-page basis? Indeed, it would be nice, and Rails happily obliges using a special file called <CODE>application.html.erb</CODE>, which lives in the <CODE>layouts</CODE> directory. To capture the structural skeleton, create <CODE>application.html.erb</CODE> and fill it with the contents of <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:application_layout">Listing&nbsp;3.20</A>.</P>

<DIV class="label" id="code:application_layout"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.20.</SPAN> <SPAN class="description">The sample application site layout. <BR> <CODE>app/views/layouts/application.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_202f9380b5252cd60a6f8d76b1c5a9a8769703cc">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20%3C%25=%20@title%20%25%3E%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3C%25=%20yield%20%25%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3C!DOCTYPE%20html%20PUBLIC%20%22%2D//W3C//DTD%20XHTML%201.0%20Strict//EN%22%0A%20%20%22http://www.w3.org/TR/xhtml1/DTD/xhtml1%2Dstrict.dtd%22%3E%0A%3Chtml%20lang=%22en%22%20xml:lang=%22en%22%20xmlns=%22http://www.w3.org/1999/xhtml%22%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Ctitle%3ERuby%20on%20Rails%20Tutorial%20Sample%20App%20%7C%20%3C%25=%20@title%20%25%3E%3C/title%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%20%20%20%20%3C%25=%20yield%20%25%3E%0A%20%20%3C/body%3E%0A%3C/html%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"</SPAN>
<SPAN class="cp">  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;</SPAN>
<SPAN class="nt">&lt;html</SPAN> <SPAN class="na">lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xml:lang=</SPAN><SPAN class="s">"en"</SPAN> <SPAN class="na">xmlns=</SPAN><SPAN class="s">"http://www.w3.org/1999/xhtml"</SPAN><SPAN class="nt">&gt;</SPAN>
  <SPAN class="nt">&lt;head&gt;</SPAN>
    <SPAN class="nt">&lt;title&gt;</SPAN>Ruby on Rails Tutorial Sample App | <SPAN class="cp">&lt;%=</SPAN> <SPAN class="vi">@title</SPAN> <SPAN class="cp">%&gt;</SPAN><SPAN class="nt">&lt;/title&gt;</SPAN>
  <SPAN class="nt">&lt;/head&gt;</SPAN>
  <SPAN class="nt">&lt;body&gt;</SPAN>
    <SPAN class="cp">&lt;%=</SPAN> <SPAN class="k">yield</SPAN> <SPAN class="cp">%&gt;</SPAN>
  <SPAN class="nt">&lt;/body&gt;</SPAN>
<SPAN class="nt">&lt;/html&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>Note here the special line</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="cp">&lt;%=</SPAN> <SPAN class="k">yield</SPAN> <SPAN class="cp">%&gt;</SPAN>
</PRE></DIV>
</DIV>


<P>This code is responsible for inserting the contents of each page into the layout. As with <TT class="verb">&lt;%= @title %&gt;</TT>, the <TT class="verb">&lt;% ... %&gt;</TT> tags indicate Embedded Ruby, and the equals sign in <TT class="verb">&lt;%= ... %&gt;</TT> ensures that the results of evaluating the expression are inserted at that exact point in the template. (Don’t worry about the meaning of the word “yield” in this context;<SUP class="footnote" id="fnref:3.18"><A href="http://www.railstutorial.org/chapters/static-pages#fn:3.18">18</A></SUP> what matters is that using this layout ensures that visiting the page <TT>/pages/home</TT> converts the contents of <CODE>home.html.erb</CODE> to HTML and then inserts it in place of <TT class="verb">&lt;%= yield %&gt;</TT>.</P>

<P>Of course, our views are still filled with all the HTML structure we just hoisted into the layout, so we have to rip it out, leaving only the interior contents (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:home_view_interior">Listing&nbsp;3.21</A>, <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:contact_view_interior">Listing&nbsp;3.22</A>, and <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:about_view_interior">Listing&nbsp;3.23</A>).</P>

<DIV class="label" id="code:home_view_interior"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.21.</SPAN> <SPAN class="description">The Home view with HTML structure removed. <BR> <CODE>app/views/pages/home.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_1a2d8ebc5b22306e0c102e71d50ffc1500285a52">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3Ch1%3ESample%20App%20Home%3C/h1%3E%0A%3Cp%3E%0A%20%20This%20is%20the%20home%20page%20for%20the%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20sample%20application.%0A%3C/p%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3Ch1%3ESample%20App%20Home%3C/h1%3E%0A%3Cp%3E%0A%20%20This%20is%20the%20home%20page%20for%20the%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20sample%20application.%0A%3C/p%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;h1&gt;</SPAN>Sample App Home<SPAN class="nt">&lt;/h1&gt;</SPAN>
<SPAN class="nt">&lt;p&gt;</SPAN>
  This is the home page for the
  <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails Tutorial<SPAN class="nt">&lt;/a&gt;</SPAN>
  sample application.
<SPAN class="nt">&lt;/p&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>




<DIV class="label" id="code:contact_view_interior"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.22.</SPAN> <SPAN class="description">The Contact view with HTML structure removed. <BR> <CODE>app/views/pages/contact.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_ec4a5690bca7a7b0ffb4c7c92b0dca7c40a46167">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3Ch1%3EContact%3C/h1%3E%0A%3Cp%3E%0A%20%20Contact%20Ruby%20on%20Rails%20Tutorial%20about%20the%20sample%20app%20at%20the%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/feedback%22%3Efeedback%20page%3C/a%3E.%0A%3C/p%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3Ch1%3EContact%3C/h1%3E%0A%3Cp%3E%0A%20%20Contact%20Ruby%20on%20Rails%20Tutorial%20about%20the%20sample%20app%20at%20the%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/feedback%22%3Efeedback%20page%3C/a%3E.%0A%3C/p%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;h1&gt;</SPAN>Contact<SPAN class="nt">&lt;/h1&gt;</SPAN>
<SPAN class="nt">&lt;p&gt;</SPAN>
  Contact Ruby on Rails Tutorial about the sample app at the
  <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/feedback"</SPAN><SPAN class="nt">&gt;</SPAN>feedback page<SPAN class="nt">&lt;/a&gt;</SPAN>.
<SPAN class="nt">&lt;/p&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>




<DIV class="label" id="code:about_view_interior"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.23.</SPAN> <SPAN class="description">The About view with HTML structure removed. <BR> <CODE>app/views/pages/about.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_6bd8dc7daf35efcdecc2035ffe686db194ea52c9">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3Ch1%3EAbout%20Us%3C/h1%3E%0A%3Cp%3E%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20is%20a%20project%20to%20make%20a%20book%20and%20screencasts%20to%20teach%20web%20development%0A%20%20with%20%3Ca%20href=%22http://rubyonrails.org/%22%3ERuby%20on%20Rails%3C/a%3E.%20This%0A%20%20is%20the%20sample%20application%20for%20the%20tutorial.%0A%3C/p%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3Ch1%3EAbout%20Us%3C/h1%3E%0A%3Cp%3E%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/%22%3ERuby%20on%20Rails%20Tutorial%3C/a%3E%0A%20%20is%20a%20project%20to%20make%20a%20book%20and%20screencasts%20to%20teach%20web%20development%0A%20%20with%20%3Ca%20href=%22http://rubyonrails.org/%22%3ERuby%20on%20Rails%3C/a%3E.%20This%0A%20%20is%20the%20sample%20application%20for%20the%20tutorial.%0A%3C/p%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;h1&gt;</SPAN>About Us<SPAN class="nt">&lt;/h1&gt;</SPAN>
<SPAN class="nt">&lt;p&gt;</SPAN>
  <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails Tutorial<SPAN class="nt">&lt;/a&gt;</SPAN>
  is a project to make a book and screencasts to teach web development
  with <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://rubyonrails.org/"</SPAN><SPAN class="nt">&gt;</SPAN>Ruby on Rails<SPAN class="nt">&lt;/a&gt;</SPAN>. This
  is the sample application for the tutorial.
<SPAN class="nt">&lt;/p&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>


<P>With these views defined, the Home, Contact, and About pages are exactly the same as before—i.e., we have successfully refactored them—but have much less duplication. And, as required, the tests still pass.</P>

<DIV class="label" id="sec:static_pages_conclusion"></DIV>


<H2><A id="sec:3.4" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_conclusion" class="heading"><SPAN class="number">3.4</SPAN> Conclusion</A></H2>


<P>Seen from the outside, this chapter hardly accomplished anything: we started with static pages, and ended with… mostly static pages. But appearances are deceiving: by developing in terms of Rails controllers, actions, and views, we are now in a position to add arbitrary amounts of dynamic content to our site. Seeing exactly how this plays out is the task for the rest of this tutorial.</P>

<P>Before moving on, let’s take a minute to commit our changes and merge them into the master branch. Back in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_with_rails">Section&nbsp;3.1.2</A> we created a Git branch for the development of static pages. If you haven’t been making commits as we’ve been moving along, first make a commit indicating that we’ve reached a stopping point:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> git add .
<SPAN class="gp">$</SPAN> git commit -am <SPAN class="s2">"Done with static pages"</SPAN>
</PRE></DIV>
</DIV>


<P>Then merge the changes back into the master branch using the same technique as in <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:git_commands">Section&nbsp;1.3.5</A>:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> git checkout master
<SPAN class="gp">$</SPAN> git merge static-pages
</PRE></DIV>
</DIV>


<P>Once you reach a stopping point like this, it’s usually a good idea to push your code up to a remote repository (which, if you followed the steps in <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:github">Section&nbsp;1.3.4</A>, will be GitHub):</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> spec spec/
<SPAN class="gp">$</SPAN> git push
</PRE></DIV>
</DIV>


<P>If you like, at this point you can even deploy the updated application to Heroku:</P>

<DIV class="code"><DIV class="highlight"><PRE><SPAN class="gp">$</SPAN> spec spec/
<SPAN class="gp">$</SPAN> git push heroku
</PRE></DIV>
</DIV>


<P>Note that in both cases I’ve run <CODE>spec spec/</CODE>, just to be sure that all the tests still pass. Running your tests before pushing or deploying is a good habit to cultivate.</P>

<DIV class="label" id="sec:static_pages_exercises"></DIV>


<H2><A id="sec:3.5" href="http://www.railstutorial.org/chapters/static-pages#sec:static_pages_exercises" class="heading"><SPAN class="number">3.5</SPAN> Exercises</A></H2>




<OL>

<LI>Make a Help page for the sample app. First write a test for the existence of a page at the URL <TT>/pages/help</TT>. Then write a second test for the title “Ruby on Rails Tutorial Sample App | Help”. Get your tests to pass, and then fill in the Help page with the content from <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:help_page">Listing&nbsp;3.24</A>.</LI>

<LI>You may have noticed some repetition in the Pages controller spec (<A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:pages_controller_spec_title">Listing&nbsp;3.12</A>). In particular, the base title, “Ruby on Rails Tutorial Sample App”, is the same for every title test. Using the RSpec <CODE>before(:each)</CODE> facility, which executes a block of code before each test case, fill in <A class="ref" href="http://www.railstutorial.org/chapters/static-pages#code:pages_controller_spec_exercise">Listing&nbsp;3.25</A> to define a <CODE>@base_title</CODE> instance variable that eliminates this duplication. (This code uses two new elements: a <EM>symbol</EM>, <CODE>:each</CODE>, and the string concatenation operator <CODE>+</CODE>. We’ll learn more about both in <A class="ref" href="http://www.railstutorial.org/chapters/rails-flavored-ruby#top">Chapter&nbsp;4</A>, and we’ll see <CODE>before(:each)</CODE> again in <A class="ref" href="http://www.railstutorial.org/chapters/modeling-and-viewing-users-one#sec:presence_validation">Section&nbsp;6.2.1</A>.)</LI>

</OL>




<DIV class="label" id="code:help_page"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.24.</SPAN> <SPAN class="description">Code for a proposed Help page. <BR> <CODE>app/views/pages/help.html.erb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_738dcc843e686a3f3f50e33aca2e0576909909e7">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=%3Ch1%3EHelp%3C/h1%3E%0A%3Cp%3E%0A%20%20Get%20help%20on%20Ruby%20on%20Rails%20Tutorial%20at%20the%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/help%22%3ERails%20Tutorial%20help%20page%3C/a%3E.%0A%20%20To%20get%20help%20on%20this%20sample%20app,%20see%20the%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/book%22%3ERails%20Tutorial%20book%3C/a%3E.%0A%3C/p%3E%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=%3Ch1%3EHelp%3C/h1%3E%0A%3Cp%3E%0A%20%20Get%20help%20on%20Ruby%20on%20Rails%20Tutorial%20at%20the%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/help%22%3ERails%20Tutorial%20help%20page%3C/a%3E.%0A%20%20To%20get%20help%20on%20this%20sample%20app,%20see%20the%0A%20%20%3Ca%20href=%22http://www.railstutorial.org/book%22%3ERails%20Tutorial%20book%3C/a%3E.%0A%3C/p%3E%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nt">&lt;h1&gt;</SPAN>Help<SPAN class="nt">&lt;/h1&gt;</SPAN>
<SPAN class="nt">&lt;p&gt;</SPAN>
  Get help on Ruby on Rails Tutorial at the
  <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/help"</SPAN><SPAN class="nt">&gt;</SPAN>Rails Tutorial help page<SPAN class="nt">&lt;/a&gt;</SPAN>.
  To get help on this sample app, see the
  <SPAN class="nt">&lt;a</SPAN> <SPAN class="na">href=</SPAN><SPAN class="s">"http://www.railstutorial.org/book"</SPAN><SPAN class="nt">&gt;</SPAN>Rails Tutorial book<SPAN class="nt">&lt;/a&gt;</SPAN>.
<SPAN class="nt">&lt;/p&gt;</SPAN>
</PRE></DIV>
</DIV></DIV>




<DIV class="label" id="code:pages_controller_spec_exercise"></DIV>


<DIV class="codelisting">
<DIV class="listing"><SPAN class="header">Listing 3.25.</SPAN> <SPAN class="description">The Pages controller spec with a base title. <BR> <CODE>spec/controllers/pages_controller_spec.rb</CODE></SPAN>       <OBJECT classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="110" height="14" id="clippy_7373d00359efec56b118f3009710bd029a249b6a">
      <PARAM name="movie" value="/flash/clippy.swf">
      <PARAM name="allowScriptAccess" value="always">
      <PARAM name="quality" value="high">
      <PARAM name="scale" value="noscale">
      <PARAM name="FlashVars" value="text=require%20&#39;spec_helper&#39;%0A%0Adescribe%20PagesController%20do%0A%20%20integrate_views%0A%0A%20%20before(:each)%20do%0A%20%20%20%20%23%0A%20%20%20%20%23%20Define%20@base_title%20here.%0A%20%20%20%20%23%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;home&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%20@base_title%20%2B%20%22%20%7C%20Home%22)%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;contact&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%20@base_title%20%2B%20%22%20%7C%20Contact%22)%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;about&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;about&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;about&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%20@base_title%20%2B%20%22%20%7C%20About%22)%0A%20%20%20%20end%0A%20%20end%0Aend%0A">
      <PARAM name="bgcolor" value="#ffffff">
      <EMBED src="/flash/clippy.swf" width="110" height="14" name="clippy" quality="high" allowscriptaccess="always" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="text=require%20&#39;spec_helper&#39;%0A%0Adescribe%20PagesController%20do%0A%20%20integrate_views%0A%0A%20%20before(:each)%20do%0A%20%20%20%20%23%0A%20%20%20%20%23%20Define%20@base_title%20here.%0A%20%20%20%20%23%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;home&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%20%20%20%20%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;home&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%20@base_title%20%2B%20%22%20%7C%20Home%22)%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;contact&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;contact&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%20@base_title%20%2B%20%22%20%7C%20Contact%22)%0A%20%20%20%20end%0A%20%20end%0A%0A%20%20describe%20%22GET%20&#39;about&#39;%22%20do%0A%20%20%20%20it%20%22should%20be%20successful%22%20do%0A%20%20%20%20%20%20get%20&#39;about&#39;%0A%20%20%20%20%20%20response.should%20be_success%0A%20%20%20%20end%0A%0A%20%20%20%20it%20%22should%20have%20the%20right%20title%22%20do%0A%20%20%20%20%20%20get%20&#39;about&#39;%0A%20%20%20%20%20%20response.should%20have_tag(%22title%22,%20@base_title%20%2B%20%22%20%7C%20About%22)%0A%20%20%20%20end%0A%20%20end%0Aend%0A" bgcolor="#ffffff">
      </OBJECT>
</DIV>
<DIV class="code"><DIV class="highlight"><PRE><SPAN class="nb">require</SPAN> <SPAN class="s1">'spec_helper'</SPAN>

<SPAN class="n">describe</SPAN> <SPAN class="no">PagesController</SPAN> <SPAN class="k">do</SPAN>
  <SPAN class="n">integrate_views</SPAN>

  <SPAN class="n">before</SPAN><SPAN class="p">(</SPAN><SPAN class="ss">:each</SPAN><SPAN class="p">)</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="c1">#</SPAN>
    <SPAN class="c1"># Define @base_title here.</SPAN>
    <SPAN class="c1">#</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'home'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'home'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>

    <SPAN class="n">it</SPAN> <SPAN class="s2">"should have the right title"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'home'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">have_tag</SPAN><SPAN class="p">(</SPAN><SPAN class="s2">"title"</SPAN><SPAN class="p">,</SPAN> <SPAN class="vi">@base_title</SPAN> <SPAN class="o">+</SPAN> <SPAN class="s2">" | Home"</SPAN><SPAN class="p">)</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'contact'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'contact'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>

    <SPAN class="n">it</SPAN> <SPAN class="s2">"should have the right title"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'contact'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">have_tag</SPAN><SPAN class="p">(</SPAN><SPAN class="s2">"title"</SPAN><SPAN class="p">,</SPAN> <SPAN class="vi">@base_title</SPAN> <SPAN class="o">+</SPAN> <SPAN class="s2">" | Contact"</SPAN><SPAN class="p">)</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>

  <SPAN class="n">describe</SPAN> <SPAN class="s2">"GET 'about'"</SPAN> <SPAN class="k">do</SPAN>
    <SPAN class="n">it</SPAN> <SPAN class="s2">"should be successful"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'about'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">be_success</SPAN>
    <SPAN class="k">end</SPAN>

    <SPAN class="n">it</SPAN> <SPAN class="s2">"should have the right title"</SPAN> <SPAN class="k">do</SPAN>
      <SPAN class="n">get</SPAN> <SPAN class="s1">'about'</SPAN>
      <SPAN class="n">response</SPAN><SPAN class="o">.</SPAN><SPAN class="n">should</SPAN> <SPAN class="n">have_tag</SPAN><SPAN class="p">(</SPAN><SPAN class="s2">"title"</SPAN><SPAN class="p">,</SPAN> <SPAN class="vi">@base_title</SPAN> <SPAN class="o">+</SPAN> <SPAN class="s2">" | About"</SPAN><SPAN class="p">)</SPAN>
    <SPAN class="k">end</SPAN>
  <SPAN class="k">end</SPAN>
<SPAN class="k">end</SPAN>
</PRE></DIV>
</DIV></DIV>


<DIV class="navigation">  <A class="prev_page" href="http://www.railstutorial.org/chapters/a-demo-app#top">
    «&nbsp;<SPAN class="number">Chapter 2</SPAN> A demo app
  </A>
  <A class="next_page" href="http://www.railstutorial.org/chapters/rails-flavored-ruby#top">
    <SPAN class="number">Chapter 4</SPAN> Rails-flavored Ruby&nbsp;»
  </A>
</DIV><DIV class="footnotes">
<OL>
<LI id="fn:3.1">In fact, Rails ensures that requests for such files never hit the main Rails stack; they are delivered directly from the filesystem.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.1">↑</A></LI>
<LI id="fn:3.2">As usual, replace <CODE>mate</CODE> with the command for your text editor.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.2">↑</A></LI>
<LI id="fn:3.3">HTML changes with time; by explicitly making a doctype declaration we make it likelier that browsers will render our pages properly in the future.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.3">↑</A></LI>
<LI id="fn:3.4">Our method for making static pages is probably the simplest, but it’s not the only way. The optimal method really depends on your needs; if you expect a <EM>large</EM> number of static pages, using a Pages controller can get quite cumbersome, but in our sample app we’ll only need a few. See this <A href="http://blog.hasmanythrough.com/2008/4/2/simple-pages">blog post on simple pages at <TT>has_many :through</TT></A> for a survey of techniques for making static pages with Rails. <EM>Warning:</EM> the discussion is fairly advanced, so you might want to wait a while before trying to understand it.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.4">↑</A></LI>
<LI id="fn:3.5">Windows users will probably have to run <CODE>generate</CODE> explicitly with Ruby using<BR> <CODE>ruby script/generate</CODE><BR> Throughout <EM>Rails Tutorial</EM>, I’ll omit this explicit <CODE>ruby</CODE> for brevity.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.5">↑</A></LI>
<LI id="fn:3.6">We’ll be using  <A href="http://rspec.info/">RSpec</A> for our tests, and in this context TDD is also known as Behavior Driven Development, or BDD. (Frankly, I’m not convinced there’s much of a difference.)&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.6">↑</A></LI>
<LI id="fn:3.7">The <A href="http://github.com/thoughtbot/shoulda">Shoulda</A> testing framework is a good alternate choice—the Other Rails Way, so to speak.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.7">↑</A></LI>
<LI id="fn:3.8">Much thanks to reader Ron Green for going well beyond the call of duty to identify and solve this thorny problem.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.8">↑</A></LI>
<LI id="fn:3.9">The most recent version of <CODE>autotest-fsevent</CODE>, 0.1.3, outputs verbose error messages on many versions of OS&nbsp;X, including mine. I recommend using version 0.1.1 until the problem is fixed.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.9">↑</A></LI>
<LI id="fn:3.10">In the context of RSpec, tests are often called <EM>specs</EM>, but for simplicity I’ll usually stick to the term “test”—<EM>except</EM> when referring to a file such as <CODE>pages_controller_spec</CODE>, in which case I’ll write “Pages controller spec”.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.10">↑</A></LI>
<LI id="fn:3.11">Most IDEs also have an interface to testing, but as noted in <A class="ref" href="http://www.railstutorial.org/chapters/beginning#sec:development_tools">Section&nbsp;1.2.1</A> I have limited experience with those tools.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.11">↑</A></LI>
<LI id="fn:3.12">You can also run <CODE>rake spec</CODE>, which is basically equivalent. When something goes wrong, <CODE>spec spec/</CODE> will show the <A href="http://en.wikipedia.org/wiki/Stack_trace">stack trace</A>, whereas <CODE>rake spec</CODE> doesn’t show the stack trace by default. Since the stack trace is often useful in debugging, <CODE>spec spec/</CODE> is a prudent default. I confess, though, that out of habit I usually type <CODE>rake spec</CODE>, and switch to <CODE>spec spec/</CODE> if something goes wrong.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.12">↑</A></LI>
<LI id="fn:3.13">A newline is what comes at the end of a line, starting a, well, new line. In code, it is represented by the character <TT class="verb">\n</TT>.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.13">↑</A></LI>
<LI id="fn:3.14">Actually <EM>counting</EM> columns could drive you crazy, which is why many text editors have a visual aid to help you. Consider TextMate, for example; if you take a look back at <A class="ref" href="http://www.railstutorial.org/chapters/beginning#fig:editor_shell">Figure&nbsp;1.1</A>, you’ll see a small vertical line on the right to help keep code under 80 characters. (It’s actually at 78 columns, which gives you a little margin for error.) If you use TextMate, you can find this feature under <CODE>View &gt; Wrap Column &gt; 78</CODE>.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.14">↑</A></LI>
<LI id="fn:3.15">Don’t worry about where these arguments come from or exactly what they mean; I don’t know either. I’m just in the habit of looking at the source of well-written web apps, and I’m not shy about borrowing their code.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.15">↑</A></LI>
<LI id="fn:3.16">In fact, the instance variable is actually visible in <EM>any</EM> view, a fact we’ll make use of in <A class="ref" href="http://www.railstutorial.org/chapters/sign-up#sec:a_working_form">Section&nbsp;8.2.2</A>.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.16">↑</A></LI>
<LI id="fn:3.17">There is a second popular template system called <A href="http://haml-lang.com/">Haml</A>, which I personally love, but it’s not <EM>quite</EM> standard enough yet for use in an introductory tutorial. If there is sufficient interest, I might produce a Rails Tutorial screencast series using Haml for the views. This would also allow for an introduction to <A href="http://sass-lang.com/">Sass</A>, Haml’s sister technology, which if anything is even more awesome than Haml.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.17">↑</A></LI>
<LI id="fn:3.18">If you’ve studied Ruby before, you might suspect that Rails is <EM>yielding</EM> the contents to a block, and your suspicion would be correct. But, as far as developing web applications with Rails, it doesn’t matter, and I’ve honestly never given the meaning of <TT class="verb">&lt;%= yield %&gt;</TT> a second thought—or even a first one.&nbsp;<A class="arrow" href="http://www.railstutorial.org/chapters/static-pages#fnref:3.18">↑</A></LI>
</OL>
</DIV>





    </DIV>
  <DIV id="book_bottom">
  </DIV>
</DIV>

        </DIV>  
      </DIV>
    <DIV id="container-bottom"></DIV>
      <SCRIPT type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
  </SCRIPT><SCRIPT src="./application.html.erb_files/ga.js" type="text/javascript"></SCRIPT>
  <SCRIPT type="text/javascript">
  try {
  var pageTracker = _gat._getTracker("UA-8667566-1");
  pageTracker._trackPageview();
  } catch(err) {}</SCRIPT>

    
  </DIV>

</BODY></HTML>